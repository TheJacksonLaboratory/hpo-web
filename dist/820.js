"use strict";(self.webpackChunkhpo=self.webpackChunkhpo||[]).push([[820],{7820:(T,s,r)=>{r.r(s),r.d(s,{BrowserHPOModule:()=>io});var d=r(6895),b=r(4006),f=r(3917),c=r(2143),v=r(6308),g=r(567),h=r(7545),u=r(529),a=r(2340),e=r(4650);let p=(()=>{class n{constructor(t){this.http=t,this.headers=(new u.WM).set("Accept","q=0.8;application/json;q=0.9").set("Content-Type","application/json")}searchTerm(t){const o={headers:null};return o.headers=this.headers,this.http.get(a.N.HPO_API_TERM_SEARCH_URL+t,o)}searchLoincByTerm(t){const o={headers:null,params:null};return o.headers=this.headers,this.http.get(a.N.HPO_API_TERM_SEARCH_URL+t+"/loinc",o)}searchGenesByTerm(t,o="0",m="20"){const x=(new u.LE).set("offset",o).set("max",m),w={headers:null,params:null};return w.headers=this.headers,w.params=x,this.http.get(a.N.HPO_API_TERM_SEARCH_URL+t+"/genes",w)}searchDiseasesByTerm(t,o="0",m="20"){const x=(new u.LE).set("offset",o).set("max",m),w={headers:null,params:null};return w.headers=this.headers,w.params=x,this.http.get(a.N.HPO_API_TERM_SEARCH_URL+t+"/diseases",w)}downloadAssociations(t,o){window.open(a.N.HPO_API_DOWNLOAD_EXCEL_TERM_URL+"?identifier="+t+"&association="+o,"_self")}searchIntersectingAnnotations(t){const o=(new u.LE).set("q",t.join(","));return this.http.get(a.N.HPO_API_TERM_SEARCH_URL+"/intersecting",{params:o})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(u.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var l=r(5412),_=r(4859),y=r(1576);let C=(()=>{class n{constructor(t,o){this.dialogRef=t,this.data=o,this.buttonText={first:"",second:""}}ngOnInit(){"term"===this.data.type?(this.buttonText.first="Diseases",this.buttonText.second="Genes"):"disease"===this.data.type?(this.buttonText.first="Terms",this.buttonText.second="Genes"):(this.buttonText.first="Diseases",this.buttonText.second="Terms")}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.so),e.Y36(l.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dialog-excel-download"]],decls:11,vars:7,consts:[["mat-dialog-title",""],["fxLayout","row wrap","fxLayoutAlign","center","mat-dialog-content",""],["fxFlex","100"],["fxFlex","50"],["mat-raised-button","",1,"dialog-selection",3,"disabled","mat-dialog-close"]],template:function(t,o){1&t&&(e.TgZ(0,"h4",0),e._uU(1),e.qZA(),e.TgZ(2,"div",1)(3,"p",2),e._uU(4,"Which association would you like to download?"),e.qZA(),e.TgZ(5,"div",3)(6,"button",4),e._uU(7),e.qZA()(),e.TgZ(8,"div",3)(9,"button",4),e._uU(10),e.qZA()()()),2&t&&(e.xp6(1),e.Oqu(o.data.term),e.xp6(5),e.Q6J("disabled",0==o.data.counts.diseases)("mat-dialog-close",o.buttonText.first.toLowerCase()),e.xp6(1),e.Oqu(o.buttonText.first),e.xp6(2),e.Q6J("disabled",0==o.data.counts.genes)("mat-dialog-close",o.buttonText.second.toLowerCase()),e.xp6(1),e.Oqu(o.buttonText.second))},dependencies:[_.lW,l.ZT,l.uh,l.xY,y.xw,y.Wh,y.yH],styles:[".dialog-selection[_ngcontent-%COMP%]{margin:5px;background-color:#ec9736;color:#fff}.mat-dialog-title[_ngcontent-%COMP%]{margin:0 0 5px;display:block}"]}),n})(),Z=(()=>{class n{constructor(t){this.dialog=t}openDownloadDialog(t,o,m){this.dialog.open(C,{width:"400px",data:{term:t,type:o,counts:m}}).afterClosed().subscribe(w=>{w&&this.downloadAssociations(t,w,o)})}downloadAssociations(t,o,m){let x="";x="disease"===m?a.N.HPO_API_DOWNLOAD_EXCEL_DISEASE_URL:"gene"===m?a.N.HPO_API_DOWNLOAD_EXCEL_GENE_URL:a.N.HPO_API_DOWNLOAD_EXCEL_TERM_URL,window.open(x+"?identifier="+t+"&association="+o,"_self")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(l.uw))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var A=r(9549),S=r(4144),O=r(3546),N=r(3162),D=r(3848),U=r(8739),$=r(266),M=r(6338),W=r(8729),J=r(5829);const X=["diseasePaginator"],K=["genePaginator"],V=function(){return{"margin-left":"-100px","margin-right":"5px"}};function ee(n,i){if(1&n&&e._UZ(0,"span",48),2&n){const t=e.oxw().$implicit;e.s9C("matTooltip",t.childrenCount),e.Q6J("ngStyle",e.DdM(2,V))}}function te(n,i){if(1&n&&(e.TgZ(0,"li"),e.YNc(1,ee,1,3,"span",45),e.TgZ(2,"a",47),e._uU(3),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",0!=t.childrenCount),e.xp6(1),e.MGl("routerLink","../",t.ontologyId,""),e.xp6(1),e.Oqu(t.name)}}const ne=function(){return{"margin-left":"-115px"}};function oe(n,i){if(1&n&&e._UZ(0,"span",48),2&n){const t=e.oxw(2);e.s9C("matTooltip",t.treeData.termCount),e.Q6J("ngStyle",e.DdM(2,ne))}}function ie(n,i){if(1&n&&e._UZ(0,"span",48),2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.s9C("matTooltip",t.childrenCount),e.Q6J("ngStyle",o.setTreeStyles(t))}}function re(n,i){if(1&n&&(e.TgZ(0,"li",49),e.YNc(1,ie,1,2,"span",45),e.TgZ(2,"a",47),e._uU(3),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",0!=t.childrenCount),e.xp6(1),e.MGl("routerLink","../",t.ontologyId,""),e.xp6(1),e.Oqu(t.name)}}function ae(n,i){if(1&n&&(e.TgZ(0,"ul",42),e.YNc(1,te,4,3,"li",43),e.TgZ(2,"li")(3,"div",44),e.YNc(4,oe,1,3,"span",45),e.TgZ(5,"strong"),e._uU(6),e.qZA()(),e.TgZ(7,"ul"),e.YNc(8,re,4,3,"li",46),e.qZA()()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.treeData.parents),e.xp6(3),e.Q6J("ngIf",0!=t.treeData.termCount),e.xp6(2),e.Oqu(t.term.name),e.xp6(2),e.Q6J("ngForOf",t.treeData.children)}}function se(n,i){1&n&&(e.TgZ(0,"div"),e._UZ(1,"mat-progress-bar",50),e.qZA())}function ce(n,i){if(1&n&&(e.TgZ(0,"span",53)(1,"span",55),e._uU(2),e.qZA(),e.TgZ(3,"i",56),e._uU(4,"arrow_right_alt"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("",t.paramId," ")}}function le(n,i){if(1&n&&(e.TgZ(0,"i"),e._uU(1),e.qZA()),2&n){const t=i.$implicit,o=i.last;e.xp6(1),e.AsE("",t,"",o?"":", ","")}}function pe(n,i){if(1&n&&(e.TgZ(0,"mat-list-item")(1,"strong"),e._uU(2,"Comment:"),e.qZA(),e._uU(3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" \xa0\xa0 ",t.term.comment," ")}}function ue(n,i){if(1&n&&(e.TgZ(0,"span")(1,"a",57)(2,"i"),e._uU(3),e.qZA()(),e._uU(4),e.qZA()),2&n){const t=i.$implicit,o=i.last;e.xp6(1),e.MGl("href","https://www.ncbi.nlm.nih.gov/pubmed/",t.id,"",e.LSH),e.xp6(2),e.hij(" ",t.whole,""),e.xp6(1),e.hij(" ",o?"":", "," ")}}function me(n,i){if(1&n&&(e.TgZ(0,"mat-list-item")(1,"strong"),e._uU(2,"Pubmed References:"),e.qZA(),e._uU(3," \xa0\xa0 "),e.YNc(4,ue,5,3,"span",43),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.term.pubmedXrefs)}}function de(n,i){if(1&n&&(e.TgZ(0,"i"),e._uU(1),e.qZA()),2&n){const t=i.$implicit,o=i.last;e.xp6(1),e.AsE("",t,"",o?"":", ","")}}function _e(n,i){if(1&n&&(e.TgZ(0,"mat-list-item")(1,"strong"),e._uU(2,"Cross References:"),e.qZA(),e._uU(3," \xa0\xa0 "),e.YNc(4,de,2,2,"i",43),e.qZA()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngForOf",t.term.xrefs)}}function fe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div")(2,"span",51),e._uU(3),e.qZA(),e.YNc(4,ce,5,1,"span",52),e.TgZ(5,"span",53),e._uU(6),e.qZA()(),e._UZ(7,"hr",9),e.TgZ(8,"p"),e._UZ(9,"br"),e.TgZ(10,"i"),e._uU(11),e.qZA()(),e.TgZ(12,"mat-list"),e._UZ(13,"mat-divider"),e.TgZ(14,"mat-list-item")(15,"strong"),e._uU(16,"Synonyms:"),e.qZA(),e._uU(17," \xa0\xa0 "),e.YNc(18,le,2,2,"i",43),e.qZA(),e._UZ(19,"mat-divider"),e.YNc(20,pe,4,1,"mat-list-item",13),e._UZ(21,"mat-divider"),e.YNc(22,me,5,1,"mat-list-item",13),e.YNc(23,_e,5,1,"mat-list-item",13),e._UZ(24,"mat-divider"),e.qZA(),e.TgZ(25,"button",54),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.downloadDialog())}),e.TgZ(26,"span",8),e._uU(27,"get_app"),e.qZA(),e._uU(28," Export Associations "),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij("",t.termTitle,"\xa0"),e.xp6(1),e.Q6J("ngIf",t.paramId!=t.term.id),e.xp6(2),e.Oqu(t.term.id),e.xp6(5),e.Oqu(t.term.definition),e.xp6(7),e.Q6J("ngForOf",t.term.synonyms),e.xp6(2),e.Q6J("ngIf",t.term.comment),e.xp6(2),e.Q6J("ngIf",t.term.pubmedXrefs.length>0),e.xp6(1),e.Q6J("ngIf",t.term.xrefs.length>0),e.xp6(2),e.Q6J("disabled",0==t.diseaseAssocCount&&0==t.geneAssocCount)}}function he(n,i){1&n&&e._UZ(0,"mat-progress-bar",50)}function ge(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",58)(1,"mat-form-field")(2,"input",59),e.NdJ("keyup",function(m){e.CHM(t);const x=e.oxw();return e.KtG(x.applyDiseaseFilter(m.target.value))}),e.qZA()()()}}function be(n,i){1&n&&e._UZ(0,"mat-header-row")}function ve(n,i){1&n&&e._UZ(0,"mat-row")}function ye(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Disease Id"),e.qZA())}function xe(n,i){if(1&n&&(e.TgZ(0,"mat-cell")(1,"a",60),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.MGl("routerLink","/browse/disease/",t.diseaseId,""),e.xp6(1),e.Oqu(t.diseaseId)}}function Ce(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Disease Name"),e.qZA())}function Te(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.diseaseName)}}function we(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Associated Genes"),e.qZA())}function Ze(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.TgZ(2,"a",60),e._uU(3),e.qZA(),e._UZ(4,"br"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.geneSymbol," "),e.xp6(1),e.MGl("routerLink","/browse/gene/",t.geneId,""),e.xp6(1),e.hij("[",t.geneId," ]")}}function Se(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,Ze,5,3,"span",43),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngForOf",t.dbGenes)}}function Ae(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",63),e.NdJ("click",function(m){e.CHM(t);const x=e.oxw(2);return e.KtG(x.showAllDiseases(m))}),e._uU(1,"View all "),e.qZA()}}function Oe(n,i){if(1&n&&(e.TgZ(0,"div",61)(1,"p"),e._uU(2),e.YNc(3,Ae,2,0,"a",62),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.AsE("Displaying ",t.diseaseDisplayCount," out of ",t.diseaseAssocCount,". "),e.xp6(1),e.Q6J("ngIf",t.diseaseDisplayCount!=t.diseaseAssocCount)}}function Pe(n,i){1&n&&e._UZ(0,"mat-progress-bar",50)}function De(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",64)(1,"mat-form-field")(2,"input",65),e.NdJ("keyup",function(m){e.CHM(t);const x=e.oxw();return e.KtG(x.applyGeneFilter(m.target.value))}),e.qZA()()()}}function Me(n,i){1&n&&e._UZ(0,"mat-header-row")}function Ue(n,i){1&n&&e._UZ(0,"mat-row")}function Ne(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Gene Symbol"),e.qZA())}function Ie(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.TgZ(2,"a",60),e._uU(3),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.geneSymbol,"\xa0 "),e.xp6(1),e.MGl("routerLink","/browse/gene/",t.geneId,""),e.xp6(1),e.hij("[",t.geneId,"]")}}function ke(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Associated Diseases"),e.qZA())}function qe(n,i){if(1&n&&(e.TgZ(0,"span")(1,"a",60),e._uU(2),e.qZA(),e._uU(3),e._UZ(4,"br"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.MGl("routerLink","/browse/disease/",t.diseaseId,""),e.xp6(1),e.hij("(",t.diseaseId,")"),e.xp6(1),e.hij(" - ",t.diseaseName,"")}}function Ee(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e.YNc(1,qe,5,3,"span",43),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngForOf",t.dbDiseases)}}function Qe(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",63),e.NdJ("click",function(m){e.CHM(t);const x=e.oxw(2);return e.KtG(x.showAllGenes(m))}),e._uU(1,"View all "),e.qZA()}}function Re(n,i){if(1&n&&(e.TgZ(0,"div",66)(1,"p"),e._uU(2),e.YNc(3,Qe,2,0,"a",62),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.AsE("Displaying ",t.geneDisplayCount," out of ",t.geneAssocCount,". "),e.xp6(1),e.Q6J("ngIf",t.geneDisplayCount!=t.geneAssocCount)}}function Ye(n,i){1&n&&e._UZ(0,"mat-progress-bar",50)}function Je(n,i){1&n&&e._UZ(0,"mat-header-row")}function Le(n,i){1&n&&e._UZ(0,"mat-row")}function Ge(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," LOINC Code"),e.qZA())}function He(n,i){if(1&n&&(e.TgZ(0,"mat-cell")(1,"a",73),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.MGl("href","http://loinc.org/",t.id,"",e.LSH),e.xp6(1),e.Oqu(t.id)}}function Fe(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," LOINC Name"),e.qZA())}function je(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.longName," ")}}function ze(n,i){if(1&n&&(e.TgZ(0,"div",74)(1,"p"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("Displaying ",t.loincDisplayCount," LOINC associations.")}}function Be(n,i){1&n&&(e.TgZ(0,"div",75)(1,"sup"),e._uU(2,"**"),e.qZA(),e._uU(3,"This material contains content from LOINC\xae ( "),e.TgZ(4,"a",76),e._uU(5,"http://loinc.org"),e.qZA(),e._uU(6,"). The LOINC Table, LOINC Table Core, LOINC Panels and Forms File, LOINC Answer File, LOINC Part File, LOINC Group File, LOINC Document Ontology File, LOINC Hierarchies, LOINC Linguistic Variants File, LOINC/RSNA Radiology Playbook, and LOINC/IEEE Medical Device Code Mapping Table are copyright \xa9 1995-2018, Regenstrief Institute, Inc. and the Logical Observation Identifiers Names and Codes (LOINC) Committee and is available at no cost under the license at "),e.TgZ(7,"a",77),e._uU(8,"http://loinc.org/license"),e.qZA(),e._uU(9,". "),e.qZA())}function $e(n,i){if(1&n&&(e.TgZ(0,"div")(1,"mat-tab",67)(2,"div",17),e.YNc(3,Ye,1,0,"mat-progress-bar",18),e.TgZ(4,"div",19)(5,"div",68)(6,"mat-table",23),e.YNc(7,Je,1,0,"mat-header-row",24),e.YNc(8,Le,1,0,"mat-row",25),e.ynx(9,69),e.YNc(10,Ge,2,0,"mat-header-cell",27),e.YNc(11,He,3,2,"mat-cell",28),e.BQk(),e.ynx(12,70),e.YNc(13,Fe,2,0,"mat-header-cell",27),e.YNc(14,je,2,1,"mat-cell",28),e.BQk(),e.qZA(),e.YNc(15,ze,3,1,"div",71),e.YNc(16,Be,10,0,"div",72),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("hidden",0==t.loincDisplayCount),e.xp6(1),e.Q6J("ngIf",t.assocLoading),e.xp6(2),e.Q6J("hidden",t.assocLoading),e.xp6(1),e.Q6J("dataSource",t.loincSource),e.xp6(1),e.Q6J("matHeaderRowDef",t.loincColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",t.loincColumns),e.xp6(7),e.Q6J("ngIf",!t.assocLoading),e.xp6(1),e.Q6J("ngIf",!t.assocLoading)}}const L=function(){return[50,100,500]};let We=(()=>{class n{constructor(t,o,m,x){this.route=t,this.termService=o,this.dialogService=m,this.router=x,this.term={id:"",name:"",definition:"",altTermIds:[],comment:"",synonyms:[],isObsolete:!0,xrefs:[],pubmedXrefs:[],purl:""},this.geneColumns=["geneId","dbDiseases"],this.diseaseColumns=["diseaseId","diseaseName","dbGenes"],this.loincColumns=["id","longName"],this.assocLoading=!0,this.overlay=!1,this.displayAllDiseaseAssc=!1,this.displayAllGeneAssc=!1}ngOnInit(){this.route.params.pipe((0,h.w)(t=>{const o=t.id;this.assocLoading=!0,this.overlay=!1,this.paramId=o,this.refreshData(o);const m=this.termService.searchGenesByTerm(o),x=this.termService.searchDiseasesByTerm(o),w=this.termService.searchLoincByTerm(o);return(0,g.D)([m,x,w])})).subscribe(([t,o,m])=>{this.geneSource=new c.by(t.genes),this.geneAssocCount=t.geneCount,this.geneAssocMax=t.max,this.geneAssocOffset=t.offset,this.geneDisplayCount=t.geneCount<t.max?t.geneCount:t.max,this.displayAllGeneAssc=!1,this.diseaseSource=new c.by(o.diseases),this.diseaseAssocCount=o.diseaseCount,this.diseaseAssocMax=o.max,this.diseaseAssocOffset=o.offset,this.diseaseDisplayCount=o.diseaseCount<o.max?o.diseaseCount:o.max,this.assocLoading=!1,this.displayAllDiseaseAssc=!1,this.loincSource=new c.by(m.loincEntries),this.loincSource.sort=this.sort,this.loincDisplayCount=m.loincEntries.length},t=>{this.router.navigate(["/error"],{state:{description:"Could not find requested "+this.paramId+"."}}),console.log(t)})}refreshData(t){this.termService.searchTerm(t).subscribe(o=>{this.setDefaults(o.details),this.treeData=o.relations,this.treeData.maxTermWidth=100;const x=this.treeData.termCount;this.treeData.children.sort((w,I)=>w.childrenCount>I.childrenCount?-1:1),this.treeData.children.map(w=>{const k=Math.ceil(w.childrenCount/x*100),P=100-k-5-115;w.treeCountWidth=k,w.treeMargin=P}),this.termTitle=this.term.name},o=>{console.log(o)})}reloadDiseaseAssociations(t,o){this.termService.searchDiseasesByTerm(this.term.id,t,o).subscribe(m=>{this.diseaseSource=new c.by(m.diseases),this.diseaseAssocCount=m.diseaseCount,this.diseaseAssocOffset=m.offset,this.diseaseAssocMax=m.max,this.diseaseDisplayCount=m.diseaseCount,this.displayAllDiseaseAssc=!0,this.assocLoading=!1,this.diseaseSource.paginator=this.diseasePaginator})}reloadGeneAssociations(t,o){this.termService.searchGenesByTerm(this.term.id,t,o).subscribe(m=>{this.geneSource=new c.by(m.genes),this.geneAssocCount=m.geneCount,this.geneAssocOffset=m.offset,this.geneAssocMax=m.max,this.geneDisplayCount=m.geneCount,this.displayAllGeneAssc=!0,this.assocLoading=!1,this.geneSource.paginator=this.genePaginator})}setDefaults(t){t&&(this.term=t,this.term.comment=null!=t.comment?t.comment:"",this.term.synonyms=0!==t.synonyms.length?t.synonyms:["No synonyms found for this term."],this.term.definition=null!=t.definition?t.definition:"Sorry this term has no definition.",this.term.purl="http://purl.obolibrary.org/obo/"+t.id.replace(":","_"),this.term.xrefs=null!=t.xrefs?t.xrefs:[],this.term.pubmedXrefs=null!=t.pubmedXrefs?t.pubmedXrefs.map(o=>({whole:o,id:o.split(":")[1]})):[])}showAllDiseases(t){this.assocLoading=!0,this.reloadDiseaseAssociations("0","-1")}showAllGenes(t){this.assocLoading=!0,this.reloadGeneAssociations("0","-1")}applyDiseaseFilter(t){t=(t=t.trim()).toLowerCase(),this.diseaseSource.filter=t}applyGeneFilter(t){t=(t=t.trim()).toLowerCase(),this.geneSource.filter=t}downloadDialog(){this.dialogService.openDownloadDialog(this.term.id,"term",{genes:this.geneAssocCount,diseases:this.diseaseAssocCount})}setTreeStyles(t){return{width:t.treeCountWidth+"px","margin-left":t.treeMargin+"px","margin-right":"20px"}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.gz),e.Y36(p),e.Y36(Z),e.Y36(f.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-term"]],viewQuery:function(t,o){if(1&t&&(e.Gf(X,7),e.Gf(K,7),e.Gf(v.YE,5)),2&t){let m;e.iGM(m=e.CRH())&&(o.diseasePaginator=m.first),e.iGM(m=e.CRH())&&(o.genePaginator=m.first),e.iGM(m=e.CRH())&&(o.sort=m.first)}},decls:77,vars:32,consts:[[1,"term-component"],[1,"container-custom"],["fxLayout","row wrap"],["fxFlex.gt-sm","25","fxFill","",1,"tree-container"],[1,"tree-navigation"],[1,"no-descendants"],[1,"card-title"],["matTooltip","Neighborhood View of HPO Hierarchy","matTooltipPosition","left",1,"info-badge"],[1,"material-icons"],[1,"underline-hr"],["class","tree",4,"ngIf"],["fxFlex.gt-sm","","fxFlexOffset.gt-sm","1","fxFill",""],[1,"item-summary"],[4,"ngIf"],[1,"hpo-group-tab"],["selectedIndex","0",1,"term-details-tab-group","mat-elevation-z6"],["label","Disease Associations"],[3,"hidden"],["class","loading-result-details","color","primary","mode","indeterminate",4,"ngIf"],[1,"tab-output-container"],[1,"filter-container"],["id","diseaseFilter","class","filter-header",4,"ngIf"],[1,"associations","disease-association",3,"hidden"],[3,"dataSource"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["matColumnDef","diseaseId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","diseaseName"],["matColumnDef","dbGenes"],[3,"pageSizeOptions"],["diseasePaginator",""],["id","assocDiseasePagingSubset","class","associationsPaging",4,"ngIf"],[1,"container","center",3,"hidden"],["label","Gene Associations"],["id","geneFilter","class","filter-header",4,"ngIf"],[1,"associations","gene-association",3,"hidden"],["matColumnDef","geneId"],["matColumnDef","dbDiseases"],["genePaginator",""],["id","assocGenePagingSubset","class","associationsPaging",4,"ngIf"],[1,"tree"],[4,"ngFor","ngForOf"],[1,"term"],["class","tree-counts","matTooltipPosition","above",3,"ngStyle","matTooltip",4,"ngIf"],["class","children",4,"ngFor","ngForOf"],[1,"link",3,"routerLink"],["matTooltipPosition","above",1,"tree-counts",3,"ngStyle","matTooltip"],[1,"children"],["color","primary","mode","indeterminate",1,"loading-result-details"],[1,"item-title"],["class","item-id",4,"ngIf"],[1,"item-id"],["mat-raised-button","",1,"download-associations",3,"disabled","click"],[1,"crossout"],[1,"material-icons","obsolete-arrow"],["target","_blank",3,"href"],["id","diseaseFilter",1,"filter-header"],["id","diseaseFilterInput","matInput","","placeholder","Filter by disease",3,"keyup"],[3,"routerLink"],["id","assocDiseasePagingSubset",1,"associationsPaging"],[3,"click",4,"ngIf"],[3,"click"],["id","geneFilter",1,"filter-header"],["id","geneFilterInput","matInput","","placeholder","Filter by gene",3,"keyup"],["id","assocGenePagingSubset",1,"associationsPaging"],["label","LOINC Associations"],[1,"associations","loinc-association",3,"hidden"],["matColumnDef","id"],["matColumnDef","longName"],["class","associationsPaging",4,"ngIf"],["class","loinc-license",4,"ngIf"],["target","__blank",3,"href"],[1,"associationsPaging"],[1,"loinc-license"],["href","http://loinc.org","target","__blank"],["href","http://loinc.org/license","target","__blank"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card",4)(5,"mat-card-content")(6,"div")(7,"h4",5),e._uU(8,"No. Descendants"),e.qZA(),e.TgZ(9,"h3",6),e._uU(10,"Hierarchy"),e.qZA(),e.TgZ(11,"span",7)(12,"i",8),e._uU(13,"help_outline"),e.qZA()()(),e._UZ(14,"hr",9),e.YNc(15,ae,9,4,"ul",10),e.qZA()()(),e.TgZ(16,"div",11)(17,"mat-card",12)(18,"mat-card-content"),e.YNc(19,se,2,0,"div",13),e.YNc(20,fe,29,9,"div",13),e.qZA()(),e.TgZ(21,"div",14)(22,"mat-tab-group",15)(23,"mat-tab",16)(24,"div",17),e.YNc(25,he,1,0,"mat-progress-bar",18),e.TgZ(26,"div",19)(27,"div",20),e.YNc(28,ge,3,0,"div",21),e.qZA(),e.TgZ(29,"div",22)(30,"mat-table",23),e.YNc(31,be,1,0,"mat-header-row",24),e.YNc(32,ve,1,0,"mat-row",25),e.ynx(33,26),e.YNc(34,ye,2,0,"mat-header-cell",27),e.YNc(35,xe,3,2,"mat-cell",28),e.BQk(),e.ynx(36,29),e.YNc(37,Ce,2,0,"mat-header-cell",27),e.YNc(38,Te,2,1,"mat-cell",28),e.BQk(),e.ynx(39,30),e.YNc(40,we,2,0,"mat-header-cell",27),e.YNc(41,Se,2,1,"mat-cell",28),e.BQk(),e.qZA(),e.TgZ(42,"div",17),e._UZ(43,"mat-paginator",31,32),e.qZA(),e.YNc(45,Oe,4,3,"div",33),e.qZA()()(),e.TgZ(46,"div",34)(47,"h4"),e._uU(48,"No disease associations found for "),e.TgZ(49,"strong"),e._uU(50),e.qZA()()()(),e.TgZ(51,"mat-tab",35)(52,"div",17),e.YNc(53,Pe,1,0,"mat-progress-bar",18),e.TgZ(54,"div",19)(55,"div",20),e.YNc(56,De,3,0,"div",36),e.qZA(),e.TgZ(57,"div",37)(58,"mat-table",23),e.YNc(59,Me,1,0,"mat-header-row",24),e.YNc(60,Ue,1,0,"mat-row",25),e.ynx(61,38),e.YNc(62,Ne,2,0,"mat-header-cell",27),e.YNc(63,Ie,4,3,"mat-cell",28),e.BQk(),e.ynx(64,39),e.YNc(65,ke,2,0,"mat-header-cell",27),e.YNc(66,Ee,2,1,"mat-cell",28),e.BQk(),e.qZA(),e.TgZ(67,"div",17),e._UZ(68,"mat-paginator",31,40),e.qZA(),e.YNc(70,Re,4,3,"div",41),e.qZA()()(),e.TgZ(71,"div",34)(72,"h4"),e._uU(73,"No gene associations found for "),e.TgZ(74,"strong"),e._uU(75),e.qZA()()()(),e.YNc(76,$e,17,9,"div",13),e.qZA()()()()()()),2&t&&(e.xp6(15),e.Q6J("ngIf",o.treeData),e.xp6(4),e.Q6J("ngIf",!o.treeData),e.xp6(1),e.Q6J("ngIf",o.treeData),e.xp6(4),e.Q6J("hidden",0==o.diseaseAssocCount),e.xp6(1),e.Q6J("ngIf",o.assocLoading),e.xp6(3),e.Q6J("ngIf",o.displayAllDiseaseAssc),e.xp6(1),e.Q6J("hidden",o.assocLoading),e.xp6(1),e.Q6J("dataSource",o.diseaseSource),e.xp6(1),e.Q6J("matHeaderRowDef",o.diseaseColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.diseaseColumns),e.xp6(10),e.Q6J("hidden",!o.displayAllDiseaseAssc),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(30,L)),e.xp6(2),e.Q6J("ngIf",!o.assocLoading&&!o.displayAllDiseaseAssc),e.xp6(1),e.Q6J("hidden",0!=o.diseaseAssocCount),e.xp6(4),e.Oqu(o.term.id),e.xp6(2),e.Q6J("hidden",0==o.geneAssocCount),e.xp6(1),e.Q6J("ngIf",o.assocLoading),e.xp6(3),e.Q6J("ngIf",o.displayAllGeneAssc),e.xp6(1),e.Q6J("hidden",o.assocLoading),e.xp6(1),e.Q6J("dataSource",o.geneSource),e.xp6(1),e.Q6J("matHeaderRowDef",o.geneColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.geneColumns),e.xp6(7),e.Q6J("hidden",!o.displayAllGeneAssc),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(31,L)),e.xp6(2),e.Q6J("ngIf",!o.assocLoading&&!o.displayAllGeneAssc),e.xp6(1),e.Q6J("hidden",0!=o.geneAssocCount),e.xp6(4),e.Oqu(o.term.id),e.xp6(1),e.Q6J("ngIf",0!=o.loincDisplayCount))},dependencies:[d.sg,d.O5,d.PC,f.yS,_.lW,A.KE,S.Nt,O.a8,O.dn,N.pW,D.SP,D.uX,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,U.NW,$.gM,M.i$,M.Tg,W.d,y.xw,y.UT,y.s9,y.yH,J.Zl],styles:['.gene-association[_ngcontent-%COMP%]   .mat-column-entrezGeneId[_ngcontent-%COMP%], .disease-association[_ngcontent-%COMP%]   .mat-column-diseaseId[_ngcontent-%COMP%]{max-width:250px}.disease-association[_ngcontent-%COMP%]   .mat-column-diseaseName[_ngcontent-%COMP%]{margin-right:100px}.loinc-association[_ngcontent-%COMP%]   .mat-column-id[_ngcontent-%COMP%]{max-width:150px}.item-id[_ngcontent-%COMP%]   .obsolete-arrow[_ngcontent-%COMP%]{font-size:16px}@media (max-width: 767px){.disease-association[_ngcontent-%COMP%]   .mat-column-diseaseName[_ngcontent-%COMP%]{margin-right:10px}}.mat-cell.mat-column-dbDiseases[_ngcontent-%COMP%], .mat-cell.mat-column-dbGenes[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:inline}.tree-container[_ngcontent-%COMP%]{margin-bottom:15px}@media (min-width: 1200px){.tree-container[_ngcontent-%COMP%]{width:28.333333%}}@media (min-width: 767px){.tree-container[_ngcontent-%COMP%]{padding-right:0}}.tree-navigation[_ngcontent-%COMP%]{padding:0 15px 15px}.tree-navigation[_ngcontent-%COMP%]   .tree[_ngcontent-%COMP%]{margin-left:10rem!important}.tree-navigation[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{text-decoration:none}.card-title[_ngcontent-%COMP%]{margin:0 0 5px 100px;text-align:center;display:inline-block}.tree[_ngcontent-%COMP%], .tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;position:relative}.tree[_ngcontent-%COMP%]   .badge.tree-badge[_ngcontent-%COMP%]{border-radius:2px;background-color:#5fbc4a;padding-bottom:4px;margin:0 0 5px 10px;cursor:default}.tree-navigation[_ngcontent-%COMP%]   .info-badge[_ngcontent-%COMP%]{margin:15px 0 0;float:right;cursor:default}.tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   div.term[_ngcontent-%COMP%]{border-left:1px solid;padding:5px 0 0 10px;font-weight:900}.tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .tree-counts[_ngcontent-%COMP%]{background:lightgray;display:inline-block;height:10px;width:100px;max-width:100px;margin-right:15px}.tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:1em}.tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   li[_ngcontent-%COMP%]{margin:0;padding:0 1em;line-height:2em;position:relative}.tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-top:5px}.tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child:before{border:none}.tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:before{content:"";display:block;width:0;position:absolute;top:0;bottom:0;left:0;border-left:1px solid}.tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";display:block;width:10px;height:2px;border-top:1px solid;margin-top:-1px;position:absolute;top:1em;left:0}.tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child:before{background:white;height:auto;top:1em}.term-toolbar[_ngcontent-%COMP%]{margin-top:-40px;float:right;width:75px}.term-toolbar[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{min-height:40px;max-height:50px}.term-toolbar[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{max-width:30px;min-width:25px;margin-right:10px}.mat-progress-bar[_ngcontent-%COMP%]{margin:30px 0 30px 10px}.associationsPaging[_ngcontent-%COMP%]{text-align:right;padding:10px 25px 0 0;margin-bottom:1px;margin-top:1px}.associationsPaging[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1px;margin-top:1px;font-size:14px}.associationsPaging[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.copyToClipboard[_ngcontent-%COMP%]{font-size:12px;cursor:copy;padding:5px}.tab-output-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}.filter-header[_ngcontent-%COMP%]{min-height:24px;padding:2px 24px 0}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%;padding-bottom:1px}.loinc-license[_ngcontent-%COMP%]{font-size:12px;color:#00000082;margin:15px 15px 0}.no-descendants[_ngcontent-%COMP%]{color:#d3d3d3;display:inline-block}']}),n})(),G=(()=>{class n{constructor(t){this.http=t,this.options={headers:new u.WM({Accept:"application/json"})}}searchDisease(t){return this.http.get(a.N.HPO_API_DISEASE_SEARCH_URL+t,this.options)}searchMonarch(t){return this.http.get(a.N.HPO_MONARCH_DISEASE_URL+t,this.options)}downloadAssociations(t,o){window.open(a.N.HPO_API_DOWNLOAD_EXCEL_DISEASE_URL+"?identifier="+t+"&association="+o,"_self")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(u.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const Xe=["genePaginator"];function Ke(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("[ ",t.annotationCount," annotations ]")}}function Ve(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("[ ",t.annotationCount," annotation ]")}}function et(n,i){1&n&&e._UZ(0,"mat-header-row")}function tt(n,i){1&n&&e._UZ(0,"mat-row")}function nt(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Term Identifier"),e.qZA())}function ot(n,i){if(1&n&&(e.TgZ(0,"mat-cell")(1,"a",44),e._uU(2),e.qZA(),e._UZ(3,"br"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.MGl("routerLink","/browse/term/",t.ontologyId,""),e.xp6(1),e.Oqu(t.ontologyId)}}function it(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Term Name"),e.qZA())}function rt(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.name)}}function at(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Onset"),e.qZA())}function st(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.onset)}}function ct(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Frequency"),e.qZA())}function lt(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.frequency)}}function pt(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Source(s)"),e.qZA())}function ut(n,i){if(1&n&&(e.TgZ(0,"div",47)(1,"a",48),e._uU(2," PubMed "),e.TgZ(3,"i",49),e._uU(4,"library_books"),e.qZA()()()),2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("href",o.getPubmedUrl(t),e.LSH)}}function mt(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"OMIM \xa0"),e.qZA())}function dt(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1,"ORPHA \xa0"),e.qZA())}function _t(n,i){if(1&n&&(e.TgZ(0,"div",47)(1,"a",48),e.YNc(2,mt,2,0,"span",37),e.YNc(3,dt,2,0,"span",37),e.TgZ(4,"i",12),e._uU(5,"open_in_new"),e.qZA()()()),2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("href",o.getExternalDiseaseUrl(t),e.LSH),e.xp6(1),e.Q6J("ngIf",o.isSourceOmim(t)),e.xp6(1),e.Q6J("ngIf",o.isSourceOrpha(t))}}function ft(n,i){if(1&n&&(e.ynx(0),e.YNc(1,ut,5,1,"div",46),e.YNc(2,_t,6,3,"div",46),e.BQk()),2&n){const t=i.$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("ngIf",o.isPubmed(t)),e.xp6(1),e.Q6J("ngIf",!o.isPubmed(t))}}const ht=function(n){return{"source-cell":n}};function gt(n,i){if(1&n&&(e.TgZ(0,"mat-cell",45),e.YNc(1,ft,3,2,"ng-container",19),e.qZA()),2&n){const t=i.$implicit;e.Q6J("ngClass",e.VKq(2,ht,t.sources.length>1)),e.xp6(1),e.Q6J("ngForOf",t.sources)}}function bt(n,i){if(1&n&&(e.TgZ(0,"div")(1,"h3",36),e._uU(2),e.YNc(3,Ke,2,1,"span",37),e.YNc(4,Ve,2,1,"span",37),e.qZA(),e.TgZ(5,"mat-table",26),e.YNc(6,et,1,0,"mat-header-row",27),e.YNc(7,tt,1,0,"mat-row",28),e.ynx(8,38),e.YNc(9,nt,2,0,"mat-header-cell",30),e.YNc(10,ot,4,2,"mat-cell",31),e.BQk(),e.ynx(11,39),e.YNc(12,it,2,0,"mat-header-cell",30),e.YNc(13,rt,2,1,"mat-cell",31),e.BQk(),e.ynx(14,40),e.YNc(15,at,2,0,"mat-header-cell",30),e.YNc(16,st,2,1,"mat-cell",31),e.BQk(),e.ynx(17,41),e.YNc(18,ct,2,0,"mat-header-cell",30),e.YNc(19,lt,2,1,"mat-cell",31),e.BQk(),e.ynx(20,42),e.YNc(21,pt,2,0,"mat-header-cell",30),e.YNc(22,gt,2,4,"mat-cell",43),e.BQk(),e.qZA()()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(2),e.hij("",t.catLabel," "),e.xp6(1),e.Q6J("ngIf",t.annotationCount>1),e.xp6(1),e.Q6J("ngIf",1==t.annotationCount),e.xp6(1),e.Q6J("dataSource",t.termSource),e.xp6(1),e.Q6J("matHeaderRowDef",o.termColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.termColumns)}}function vt(n,i){1&n&&e._UZ(0,"mat-header-row")}function yt(n,i){1&n&&e._UZ(0,"mat-row")}function xt(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Gene Identifier"),e.qZA())}function Ct(n,i){if(1&n&&(e.TgZ(0,"mat-cell")(1,"a",44),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.MGl("routerLink","/browse/gene/",t.geneId,""),e.xp6(1),e.Oqu(t.geneId)}}function Tt(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Gene Symbol"),e.qZA())}function wt(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.geneSymbol)}}const Zt=function(){return[50,100,500]};let St=(()=>{class n{constructor(t,o,m,x){this.route=t,this.diseaseService=o,this.dialogService=m,this.router=x,this.disease={db:"",dbObjectId:"0",dbName:"",dbReference:""},this.termAssoc=[],this.geneAssoc=[],this.termColumns=["ontologyId","name","onset","frequency","sources"],this.hasTerms=!1,this.geneColumns=["geneId","geneSymbol"],this.isLoading=!0,this.catTermSources=[],this.route.params.subscribe(w=>{this.query=w.id,this.refreshData()})}refreshData(){this.diseaseService.searchDisease(this.query).subscribe(t=>{this.disease=t.disease,this.geneAssoc=t.geneAssoc,this.catTermSources=[],this.setCatTermsDBSource(t.catTermsMap),this.geneDataSource=new c.by(this.geneAssoc),this.geneDataSource.paginator=this.genePaginator,this.diseaseService.searchMonarch(this.query).subscribe(o=>{this.disease.description=o.description}),this.isLoading=!1},t=>{this.router.navigate(["/error"],{state:{description:"Could not find requested disease id."}}),console.log(t)})}setCatTermsDBSource(t){t.map(m=>{const x=m.catLabel,w=m.terms.length;m.terms.length>0&&(this.hasTerms=!0);const I=m.terms.map(P=>{P.frequency="UNKNOWN"===P.frequency?"-":P.frequency,P.onset="UNKNOWN"===P.onset?"-":P.onset;const B=P.sources.split(",");return P.sources="UNKNOWN"===B[0]?[this.query]:B,P}),k=new c.by(I);this.catTermSources.push({catLabel:x,annotationCount:w,termSource:k})});const o=["Inheritance","Growth","Head and neck","Ear","Eye","Cardiovascular","Respiratory System","Thoracic cavity","Breast","Digestive System","Endocrine","Genitourinary system","Immunology","Blood and blood-forming tissues","Skeletal system","Musculature","Limbs","Connective tissue","Skin, Hair, and Nails","Nervous System","Voice","Prenatal and Birth","Constitutional Symptom","Neoplasm","Metabolism/Laboratory abnormality","Cellular phenotype"];this.catTermSources.sort(function(m,x){return o.indexOf(m.catLabel)-o.indexOf(x.catLabel)})}isPubmed(t){return t.startsWith("PMID:")}getPubmedUrl(t){return"https://www.ncbi.nlm.nih.gov/pubmed/"+t.split(":")[1]}getExternalDiseaseUrl(t){const o=t.split(":");return o[0].startsWith("OMIM")?"https://omim.org/entry/"+o[1]:o[0].startsWith("ORPHA")?"https://www.orpha.net/consor/cgi-bin/OC_Exp.php?Lng=EN&Expert="+o[1]:void 0}isSourceOrpha(t){if(t.split(":")[0].startsWith("ORPHA"))return!0}isSourceOmim(t){if(t.split(":")[0].startsWith("OMIM"))return!0}applyGeneFilter(t){t=(t=t.trim()).toLowerCase(),this.geneDataSource.filter=t}downloadDialog(){this.dialogService.openDownloadDialog(this.disease.diseaseId,"disease",{genes:this.geneAssoc.length,terms:this.termAssoc.length})}reportIssue(){this.disease.db.toUpperCase().includes("ORPHA")?window.open("https://www.orpha.net/consor/cgi-bin/Directory_Contact.php?lng=EN","_blank"):window.open("https://github.com/obophenotype/human-phenotype-ontology/issues","_blank")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.gz),e.Y36(G),e.Y36(Z),e.Y36(f.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-disease"]],viewQuery:function(t,o){if(1&t&&(e.Gf(v.YE,5),e.Gf(Xe,7)),2&t){let m;e.iGM(m=e.CRH())&&(o.sort=m.first),e.iGM(m=e.CRH())&&(o.genePaginator=m.first)}},decls:54,vars:16,consts:[[1,"disease-component"],[1,"container-custom"],[1,"item-header"],[3,"hidden"],["color","primary","mode","indeterminate",1,"loading-result-details"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex.gt-sm","80","fxFlex",""],[1,"item-summary","mat-elevation-z6"],[1,"item-title"],[1,"item-id"],[1,"underline-hr"],["mat-raised-button","",1,"download-associations",3,"disabled","click"],[1,"material-icons"],["mat-raised-button","",1,"report-issue",3,"click"],[1,"hpo-group-tab"],["selectedIndex","0",1,"disease-details-tab-group","mat-elevation-z6"],["label","HPO Associations"],[1,"tab-content"],[1,"associations","term-association"],[4,"ngFor","ngForOf"],["label","Gene Associations"],[1,"tab-output-container"],[1,"filter-container"],[1,"filter-header"],["id","geneFilterInput","matInput","","placeholder","Filter",3,"keyup"],[1,"associations","gene-association"],["matSort","",3,"dataSource"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["matColumnDef","geneId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","geneSymbol"],[3,"pageSizeOptions"],["genePaginator",""],[1,"container","center",3,"hidden"],[1,"category-title"],[4,"ngIf"],["matColumnDef","ontologyId"],["matColumnDef","name"],["matColumnDef","onset"],["matColumnDef","frequency"],["matColumnDef","sources"],[3,"ngClass",4,"matCellDef"],[3,"routerLink"],[3,"ngClass"],["class","source",4,"ngIf"],[1,"source"],["target","_blank",3,"href"],[1,"material-icons-outlined"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),e._UZ(4,"mat-progress-bar",4),e.qZA()(),e.TgZ(5,"div",3)(6,"div",5)(7,"div",6)(8,"mat-card",7)(9,"mat-card-content")(10,"span",8),e._uU(11),e.qZA(),e.TgZ(12,"span",9),e._uU(13),e.qZA(),e._UZ(14,"hr",10),e.TgZ(15,"mat-list")(16,"mat-list-item"),e._uU(17),e.qZA()(),e.TgZ(18,"button",11),e.NdJ("click",function(){return o.downloadDialog()}),e.TgZ(19,"span",12),e._uU(20,"get_app"),e.qZA(),e._uU(21," Export Associations "),e.qZA(),e.TgZ(22,"button",13),e.NdJ("click",function(){return o.reportIssue()}),e.TgZ(23,"span",12),e._uU(24,"bug_report"),e.qZA(),e._uU(25," Report Entry Issue "),e.qZA()()(),e.TgZ(26,"div",14)(27,"mat-tab-group",15)(28,"mat-tab",16)(29,"div",17)(30,"div",18),e.YNc(31,bt,23,7,"div",19),e.qZA()()(),e.TgZ(32,"mat-tab",20)(33,"div",3)(34,"div",21)(35,"div",22)(36,"div",23)(37,"mat-form-field")(38,"input",24),e.NdJ("keyup",function(x){return o.applyGeneFilter(x.target.value)}),e.qZA()()()(),e.TgZ(39,"div",25)(40,"mat-table",26),e.YNc(41,vt,1,0,"mat-header-row",27),e.YNc(42,yt,1,0,"mat-row",28),e.ynx(43,29),e.YNc(44,xt,2,0,"mat-header-cell",30),e.YNc(45,Ct,3,2,"mat-cell",31),e.BQk(),e.ynx(46,32),e.YNc(47,Tt,2,0,"mat-header-cell",30),e.YNc(48,wt,2,1,"mat-cell",31),e.BQk(),e.qZA(),e._UZ(49,"mat-paginator",33,34),e.qZA()()(),e.TgZ(51,"div",35)(52,"h4"),e._uU(53),e.qZA()()()()()()()()()()),2&t&&(e.xp6(3),e.Q6J("hidden",!o.isLoading),e.xp6(2),e.Q6J("hidden",o.isLoading),e.xp6(6),e.hij("",o.disease.diseaseName,"\xa0"),e.xp6(2),e.Oqu(o.disease.diseaseId),e.xp6(4),e.Oqu(o.disease.description),e.xp6(1),e.Q6J("disabled",o.hasTerms&&0==o.geneAssoc.length),e.xp6(13),e.Q6J("ngForOf",o.catTermSources),e.xp6(2),e.Q6J("hidden",0==o.geneAssoc.length),e.xp6(7),e.Q6J("dataSource",o.geneDataSource),e.xp6(1),e.Q6J("matHeaderRowDef",o.geneColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.geneColumns),e.xp6(7),e.Q6J("pageSizeOptions",e.DdM(15,Zt)),e.xp6(2),e.Q6J("hidden",0!==o.geneAssoc.length),e.xp6(2),e.hij('No gene results found for "',o.query,'"'))},dependencies:[d.mk,d.sg,d.O5,f.yS,_.lW,A.KE,S.Nt,O.a8,O.dn,N.pW,D.SP,D.uX,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,U.NW,v.YE,M.i$,M.Tg,y.xw,y.Wh,y.yH,J.oO],styles:[".term-association[_ngcontent-%COMP%]   .mat-column-ontologyId[_ngcontent-%COMP%]{max-width:150px}.term-association[_ngcontent-%COMP%]   .mat-column-onset[_ngcontent-%COMP%], .term-association[_ngcontent-%COMP%]   .mat-column-frequency[_ngcontent-%COMP%], .term-association[_ngcontent-%COMP%]   .mat-column-sources[_ngcontent-%COMP%]{max-width:175px}.term-association[_ngcontent-%COMP%]   .mat-column-sources[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .term-association[_ngcontent-%COMP%]   .mat-column-sources[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%]{font-size:18px}.mat-column-dbDiseases[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.gene-association[_ngcontent-%COMP%]   .mat-column-diseaseName[_ngcontent-%COMP%]{width:425px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.disease-details-tab-group[_ngcontent-%COMP%]{border:1px solid #e8e8e8}.tab-output-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}.filter-header[_ngcontent-%COMP%]{min-height:64px;padding:8px 24px 0}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.associations.term-association[_ngcontent-%COMP%]   .category-title[_ngcontent-%COMP%]{padding:10px;margin:0;background-color:#4e8ba2;color:#fff}.report-issue[_ngcontent-%COMP%]{margin:1rem 0 0 .5rem;background-color:#ec9736;color:#fff!important}.material-icons[_ngcontent-%COMP%]{vertical-align:middle!important}.source-cell[_ngcontent-%COMP%]{display:block!important;padding-top:.25rem;padding-bottom:.25rem}.mat-row[_ngcontent-%COMP%]{border-bottom-color:#00000040!important}"]}),n})();var q=r(4850);let H=(()=>{class n{constructor(t){this.http=t,this.options={headers:new u.WM({"Content-Type":"application/json",Accept:"q=0.8;application/json;q=0.9"})}}searchGene(t){return this.http.get(a.N.HPO_API_GENE_SEARCH_URL+t,this.options)}searchGeneInfo(t){return this.http.get(a.N.HPO_ENTREZ_SEARCH_URL+"?db=gene&id="+t+"&retmode=json")}searchUniprot(t){let o=new u.LE;return o=o.append("from","P_ENTREZGENEID"),o=o.append("to","ACC"),o=o.append("query",t),o=o.append("format","tab"),o=o.append("columns","id,reviewed"),this.http.post(a.N.HPO_UNIPROT_MAPPING_URL,null,{params:o,responseType:"text"}).pipe((0,q.U)(m=>this.parseUniprotMapping(m.split("\n"))))}parseUniprotMapping(t){const o=t.map(m=>m.split("\t")).filter(m=>"reviewed"===m[1]);return o.length>0?o[0][0]:null}downloadAssociations(t,o){window.open(a.N.HPO_API_DOWNLOAD_EXCEL_GENE_URL+"?identifier="+t+"&association="+o,"_self")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(u.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class At{constructor(){this.otheraliases="",this.aliases=[]}}const Ot=["termPaginator"],Pt=["diseasePaginator"];function Dt(n,i){if(1&n&&(e.TgZ(0,"div")(1,"h3",41),e._uU(2,"Summary"),e.qZA(),e._UZ(3,"hr",14),e.TgZ(4,"p")(5,"strong"),e._uU(6,"Gene Location"),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"p")(9,"strong"),e._uU(10,"Definition"),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"i"),e._uU(13),e.qZA()()()),2&n){const t=e.oxw();e.xp6(7),e.hij(":\xa0",t.entrezGene.maplocation,""),e.xp6(6),e.Oqu(t.entrezGene.summary)}}function Mt(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1," Entrez API Error. If you recieved this error please report it. "),e.TgZ(2,"a",42),e._uU(3,"Report Issue"),e.qZA()())}function Ut(n,i){if(1&n&&(e.TgZ(0,"i"),e._uU(1),e.qZA()),2&n){const t=i.$implicit,o=i.last;e.xp6(1),e.AsE("",t,"",o?"":", ","")}}function Nt(n,i){if(1&n&&(e.TgZ(0,"span")(1,"strong"),e._uU(2,"Synonyms:\xa0"),e.qZA(),e.YNc(3,Ut,2,2,"i",43),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.entrezGene.aliases)}}function It(n,i){1&n&&e._UZ(0,"mat-header-row")}function kt(n,i){1&n&&e._UZ(0,"mat-row")}function qt(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Term Identifier"),e.qZA())}function Et(n,i){if(1&n&&(e.TgZ(0,"mat-cell")(1,"a",44),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.MGl("routerLink","/browse/term/",t.ontologyId,""),e.xp6(1),e.Oqu(t.ontologyId)}}function Qt(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Term Name"),e.qZA())}function Rt(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.name)}}function Yt(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Definition"),e.qZA())}function Jt(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.definition)}}function Lt(n,i){1&n&&e._UZ(0,"mat-header-row")}function Gt(n,i){1&n&&e._UZ(0,"mat-row")}function Ht(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Disease Identifier"),e.qZA())}function Ft(n,i){if(1&n&&(e.TgZ(0,"mat-cell")(1,"a",44),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.MGl("routerLink","/browse/disease/",t.diseaseId,""),e.xp6(1),e.Oqu(t.diseaseId)}}function jt(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Disease Name"),e.qZA())}function zt(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.diseaseName)}}const F=function(){return[5,10,50,100,500]};let Bt=(()=>{class n{constructor(t,o,m,x){this.route=t,this.geneService=o,this.dialogService=m,this.router=x,this.entrezGene=new At,this.uniprotId="",this.termAssoc=[],this.diseaseAssoc=[],this.termColumns=["ontologyId","name","definition"],this.diseaseColumns=["diseaseId","diseaseName"],this.isLoading=!0,this.uniProtWidgetInitilized=!1,this.uniProtLoading=!1,this.uniProtWidgetURL=a.N.HPO_UNIPROT_WIDGET_URL,this.mobile=!1,this.entrezError=!1}ngOnInit(){window.screen.width<767&&(this.mobile=!0),this.route.params.subscribe(t=>{this.query=t.id,this.reloadGeneData()})}reloadGeneData(){this.geneService.searchGeneInfo(this.query).subscribe(t=>{this.entrezGene=t.result[this.query],this.entrezGene.aliases=this.entrezGene.otheraliases?this.entrezGene.otheraliases.split(","):[],this.entrezGene.summary=this.entrezGene.summary?this.entrezGene.summary:"No Entrez definition entry."},t=>{this.entrezError=!0,console.log(t)}),this.geneService.searchGene(this.query).subscribe(t=>{this.gene=t.gene,this.termAssoc=t.termAssoc,this.diseaseAssoc=t.diseaseAssoc,this.termDataSource=new c.by(this.termAssoc),this.diseaseDataSource=new c.by(this.diseaseAssoc),this.termDataSource.paginator=this.termPaginator,this.diseaseDataSource.paginator=this.diseasePaginator,this.isLoading=!1},t=>{this.router.navigate(["/error"],{state:{description:"Could not find requested entrez id "+this.query+"."}}),console.log(t)})}initTabs(t){}applyTermFilter(t){t=(t=t.trim()).toLowerCase(),this.termDataSource.filter=t}applyDiseaseFilter(t){t=(t=t.trim()).toLowerCase(),this.diseaseDataSource.filter=t}downloadDialog(){const t={diseases:this.diseaseAssoc.length,terms:this.termAssoc.length};this.dialogService.openDownloadDialog(this.gene.geneId.toString(),"gene",t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.gz),e.Y36(H),e.Y36(Z),e.Y36(f.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-gene"]],viewQuery:function(t,o){if(1&t&&(e.Gf(v.YE,7),e.Gf(Ot,7),e.Gf(Pt,7)),2&t){let m;e.iGM(m=e.CRH())&&(o.sort=m.first),e.iGM(m=e.CRH())&&(o.termPaginator=m.first),e.iGM(m=e.CRH())&&(o.diseasePaginator=m.first)}},decls:75,vars:26,consts:[[1,"gene-component"],[1,"container-custom",3,"hidden"],[1,"row"],[1,"item-header"],[3,"hidden"],["color","primary","mode","indeterminate",1,"loading-result-details"],["fxLayout","row wrap"],["fxFlex","100","fxFlex.gt-sm","25"],[1,"item-summary"],[4,"ngIf"],["fxFlex","","fxFlexOffset.gt-sm","1"],[1,"item-summary","mat-elevation-z6"],[1,"item-title"],[1,"item-id"],[1,"underline-hr"],["mat-raised-button","",1,"download-associations",3,"disabled","click"],[1,"material-icons"],[1,"hpo-group-tab"],["selectedIndex","0",1,"term-details-tab-group","mat-elevation-z6"],["label","HPO Associations"],[1,"tab-output-container"],[1,"filter-container"],[1,"filter-header"],["id","termFilterInput","matInput","","placeholder","Filter",3,"keyup"],["matSort","",3,"dataSource"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],["matColumnDef","ontologyId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","definition"],[3,"pageSizeOptions"],["termPaginator",""],[1,"container","center",3,"hidden"],["label","Disease Associations"],[1,"tab-output-container","mat-elevation-z8"],["id","diseaseFilterInput","matInput","","placeholder","Filter",3,"keyup"],["matColumnDef","diseaseId"],["matColumnDef","diseaseName"],["diseasePaginator",""],[1,"card-title"],["mat-raised-button","","href","https://github.com/TheJacksonLaboratory/hpo-web/issues","target","__blank",1,"mat-btn"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),e._UZ(5,"mat-progress-bar",5),e.qZA()()(),e.TgZ(6,"div",6)(7,"div",7)(8,"mat-card",8)(9,"mat-card-content"),e.YNc(10,Dt,14,2,"div",9),e.YNc(11,Mt,4,0,"div",9),e.qZA()()(),e.TgZ(12,"div",10)(13,"mat-card",11)(14,"mat-card-content")(15,"span",12),e._uU(16),e.qZA(),e.TgZ(17,"span",13),e._uU(18),e.qZA(),e._UZ(19,"hr",14),e.TgZ(20,"mat-list")(21,"mat-list-item"),e.YNc(22,Nt,4,1,"span",9),e.qZA()(),e._UZ(23,"br"),e.TgZ(24,"button",15),e.NdJ("click",function(){return o.downloadDialog()}),e.TgZ(25,"span",16),e._uU(26,"get_app"),e.qZA(),e._uU(27," Export Associations "),e.qZA()()(),e.TgZ(28,"div",17)(29,"mat-tab-group",18)(30,"mat-tab",19)(31,"div",4)(32,"div",20)(33,"div",21)(34,"div",22)(35,"mat-form-field")(36,"input",23),e.NdJ("keyup",function(x){return o.applyTermFilter(x.target.value)}),e.qZA()()()(),e.TgZ(37,"mat-table",24),e.YNc(38,It,1,0,"mat-header-row",25),e.YNc(39,kt,1,0,"mat-row",26),e.ynx(40,27),e.YNc(41,qt,2,0,"mat-header-cell",28),e.YNc(42,Et,3,2,"mat-cell",29),e.BQk(),e.ynx(43,30),e.YNc(44,Qt,2,0,"mat-header-cell",28),e.YNc(45,Rt,2,1,"mat-cell",29),e.BQk(),e.ynx(46,31),e.YNc(47,Yt,2,0,"mat-header-cell",28),e.YNc(48,Jt,2,1,"mat-cell",29),e.BQk(),e.qZA(),e._UZ(49,"mat-paginator",32,33),e.qZA()(),e.TgZ(51,"div",34)(52,"h4"),e._uU(53),e.qZA()()(),e.TgZ(54,"mat-tab",35)(55,"div",4)(56,"div",36)(57,"div",21)(58,"div",22)(59,"mat-form-field")(60,"input",37),e.NdJ("keyup",function(x){return o.applyDiseaseFilter(x.target.value)}),e.qZA()()()(),e.TgZ(61,"mat-table",24),e.YNc(62,Lt,1,0,"mat-header-row",25),e.YNc(63,Gt,1,0,"mat-row",26),e.ynx(64,38),e.YNc(65,Ht,2,0,"mat-header-cell",28),e.YNc(66,Ft,3,2,"mat-cell",29),e.BQk(),e.ynx(67,39),e.YNc(68,jt,2,0,"mat-header-cell",28),e.YNc(69,zt,2,1,"mat-cell",29),e.BQk(),e.qZA(),e._UZ(70,"mat-paginator",32,40),e.qZA()(),e.TgZ(72,"div",34)(73,"h4"),e._uU(74),e.qZA()()()()()()()()()),2&t&&(e.xp6(1),e.Q6J("hidden",o.isLoading),e.xp6(3),e.Q6J("hidden",!o.isLoading),e.xp6(6),e.Q6J("ngIf",!o.entrezError),e.xp6(1),e.Q6J("ngIf",o.entrezError),e.xp6(5),e.hij("",o.entrezGene.name,"\xa0"),e.xp6(2),e.Oqu(o.entrezGene.uid),e.xp6(4),e.Q6J("ngIf",o.entrezGene.aliases.length>0),e.xp6(2),e.Q6J("disabled",0==o.termAssoc.length&&0==o.diseaseAssoc.length),e.xp6(7),e.Q6J("hidden",0==o.termAssoc.length),e.xp6(6),e.Q6J("dataSource",o.termDataSource),e.xp6(1),e.Q6J("matHeaderRowDef",o.termColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.termColumns),e.xp6(10),e.Q6J("pageSizeOptions",e.DdM(24,F)),e.xp6(2),e.Q6J("hidden",0!=o.termAssoc.length),e.xp6(2),e.hij('No term results found for "',o.query,'"'),e.xp6(2),e.Q6J("hidden",0==o.diseaseAssoc.length),e.xp6(6),e.Q6J("dataSource",o.diseaseDataSource),e.xp6(1),e.Q6J("matHeaderRowDef",o.diseaseColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",o.diseaseColumns),e.xp6(7),e.Q6J("pageSizeOptions",e.DdM(25,F)),e.xp6(2),e.Q6J("hidden",0!=o.diseaseAssoc.length),e.xp6(2),e.hij('No disease results found for "',o.query,'"'))},dependencies:[d.sg,d.O5,f.yS,_.lW,_.zs,A.KE,S.Nt,O.a8,O.dn,N.pW,D.SP,D.uX,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,U.NW,v.YE,M.i$,M.Tg,y.xw,y.UT,y.yH],styles:[".gene-component .term-association .mat-column-ontologyId{max-width:150px}.gene-component .term-association .mat-column-name{max-width:250px}.gene-component .term-association .mat-column-definition{margin-right:20px}.gene-component .mat-column-dbDiseases{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.gene-component .disease-association .mat-column-diseaseName{width:425px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.gene-component .associations.disease-association{float:left;margin:0 0 15px 8px;width:99%}.gene-component .associations.term-association{float:left}.up_pftv_buttons{display:none!important}.ProtVistaContainer{margin:30px 0 0;display:inline-block;padding-left:15px}.up_pftv_container{display:inline-block;margin:0 0 0 25px}.up_pftv_aaviewer{margin:0 0 0 195px}.gene-component .associations{width:49%}.gene-component .loading-protvista{margin:30px 10px;width:99%}.tab-output-container{display:flex;flex-direction:column;min-width:300px}.filter-header{min-height:64px;padding:8px 24px 0}\n",'svg{overflow:hidden}.up_pftv_buttons{display:inline-block;padding:0 .5em;width:180px;text-align:right;vertical-align:bottom;position:relative}.up_pftv_credit_container{display:inline-block;vertical-align:top;width:180px;padding:0 .5em}.up_pftv_credit{font-size:.9em;color:gray}.up_pftv_credit:after{content:"";background:url(info.svg);background-size:.9em .9em;background-repeat:no-repeat;display:inline-block;width:1em;height:1em}.up_pftv_category-container{position:relative;border-right:2px solid #b2f5ff;border-top:1px solid #b2f5ff}.up_pftv_category-container svg{cursor:move}.up_pftv_container{position:relative;width:960px;color:#557071!important;font-family:Helvetica neue,Helvetica,Arial,sans-serif!important;font-size:13px!important;line-height:1.5!important}.up_pftv_container a,.up_pftv_container a:link,.up_pftv_container a:hover,.up_pftv_container a:active,.up_pftv_container a:visited{color:#557071!important;border:none;text-decoration:none!important}.up_pftv_container h4{font-size:1em!important;font-weight:500!important;border-bottom:1px solid #cacaca;margin-bottom:.7em}.up_pftv_keepWithPrevious{margin-top:0}.up_ptfv_pp-container{display:inline-block;margin:5em 0 0 .5em;vertical-align:top}.up_pftv_navruler{margin-left:195px}.up_pftv_navruler svg{vertical-align:bottom;font-size:14px}.up_pftv_category{margin-bottom:.1em;border-bottom:.1em solid #b2f5ff}.up_pftv_category-name,.up_pftv_track-header{font-weight:400;line-height:2.1em;display:inline-block;width:180px;vertical-align:bottom;padding:.485em;border:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.up_pftv_category-name{background-color:#b2f5ff}.up_pftv_category a:hover{background-color:#80eeff;border-bottom:none;text-decoration:none}.up_pftv_track-header{background-color:#d9faff}.up_pftv_category-viewer,.up_pftv_track,.up_pftv_aaviewer{position:relative;display:inline-block;vertical-align:bottom;width:760px}.up_pftv_category-viewer svg,.up_pftv_track svg,.up_pftv_aaviewer svg{vertical-align:bottom}.up_pftv_category-name{cursor:pointer}.up_pftv_track-header-container{vertical-align:top;margin-top:1px;background-color:#d9faff}.up_pftv_track{border-top:1px #b2f5ff solid}.up_pftv_category-name.up_pftv_arrow-right:before{content:" ";display:inline-block;width:0;height:0;border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:5px solid #333;margin-right:5px}.up_pftv_category-name.up_pftv_arrow-down:before{content:" ";display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #333;margin-right:5px}.up_pftv_category-disabled{opacity:0;display:none}.up_pftv_navruler .axis{font-size:12px}.up_pftv_navruler line,.up_pftv_navruler path{fill:none;stroke:#000}.up_pftv_navruler .up_pftv_viewport{fill:#d7dce0;fill-opacity:.4}.up_pftv_navruler path.up_pftv_trapezoid{fill:#d7dce0;fill-opacity:.4;stroke:none}.up_pftv_highlight,.up_pftv_amino_acid_selector{fill:#ffe999;fill-opacity:1}.up_pftv_navruler .handle{fill:#d7dce0;fill-opacity:1;stroke:#000;stroke-width:1px}.up_pftv_navruler .handle:hover{fill-opacity:1}.up_pftv_aaviewer text{font-family:Lucida Console,Monaco,monospace;font-size:12px}.up_pftv_feature{cursor:pointer;fill-opacity:.6}.up_pftv_feature:hover{fill-opacity:.9}.up_pftv_activeFeature{fill-opacity:.9!important}.up_pftv_variation-chart .up_pftv_block-area{fill:#d3d3d3;stroke:none}.up_pftv_variation-chart .up_pftv_block-area:hover{fill:#2f4f4f;cursor:pointer}.up_pftv_variation-chart .up_pftv_line{fill:none;stroke:#a9a9a9;stroke-width:1px}.up_pftv_variation-chart .up_pftv_line:hover,.up_pftv_variation-chart .up_pftv_line:hover+.up_pftv_block-area{stroke:#2f4f4f;cursor:pointer}.up_pftv_dialog-container{margin:0;padding:0}.up_pftv_dialog-container li a{display:block;line-height:2em;padding:0 .2em;cursor:pointer}.up_pftv_legend{vertical-align:sub;width:1.5em;display:inline-block;height:1em;border-radius:.4em;border:2px solid #ABABAB;margin-right:.5em}.up_pftv_legend_double{height:3em!important}.up_pftv_legend_text{line-height:2em;display:inline-block;vertical-align:top}.up_pftv_tooltip-close{color:#fff;background-color:#333;position:absolute;top:-10px;right:-10px;cursor:pointer;border-radius:20px;width:20px;height:20px;font-size:14px!important;text-align:center;border:1px solid #fff}.up_pftv_tooltip-pin-container{display:inline-block;float:left;padding:4px 10px 0 0}.up_pftv_iconContainer-unpinned{background-color:#d3d3d3!important;color:#000!important}.up_pftv_iconContainer-unpinned:hover{background-color:gray!important}.up_pftv_iconContainer-pinned{background-color:#000!important;color:#fff!important}.up_pftv_tooltip-container,.up_pftv_popupDialog-container{z-index:50000;position:absolute;opacity:0;display:none}.up_pftv_tooltip-container{min-width:220px}.up_pftv_popupDialog-container{border:1px solid #557071;background-color:#fff;padding:.5em;min-width:210px;text-align:left;font-size:13px}.up_pftv_popupDialog-container table{border:0px;background-color:#fff;width:100%}.up_pftv_popupDialog-container td{padding:.2em;margin:0}.up_pftv_popupDialog-container td:first-child{font-size:small}.up_pftv_tooltip-container table{font-size:13px;border:2px solid #CCC;border-spacing:0;border-collapse:collapse;background-color:#fff;box-shadow:5px 5px 2px #0000001a;width:100%}.up_pftv_tooltip-container table th{text-transform:capitalize;font-weight:400;white-space:nowrap;letter-spacing:.05em;font-size:1.1em;background-color:#595959;line-height:2em;padding:0 .7em;color:#fff;text-align:center}.up_pftv_tooltip-container table a{text-decoration:underline!important}.up_pftv_tooltip-container table td{padding:.4em;margin:0;border:1px solid #CCC}.up_pftv_tooltip-container td:first-child{font-weight:700}.up_pftv_tooltip-container .up_pftv_evidence-col,.up_pftv_tooltip-container .up_pftv_evidence-source{background-color:#fff}.up_pftv_tooltip-container .up_pftv_section{background-color:#b3b3b3;text-align:center}.up_pftv_tooltip-container .up_pftv_subsection{color:#000}svg .up_pftv_chain{stroke:#c93;fill:#c93}svg .up_pftv_transit{stroke:#096;fill:#096}svg .up_pftv_init_met{stroke:#963;fill:#963}svg .up_pftv_propep{stroke:#9cc;fill:#9cc}svg .up_pftv_peptide{stroke:#069;fill:#069}svg .up_pftv_signal{stroke:#c03;fill:#c03}svg .up_pftv_turn{stroke:#0571af;fill:#0571af}svg .up_pftv_strand{stroke:#fc0;fill:#fc0}svg .up_pftv_helix{stroke:#f06;fill:#f06}svg .up_pftv_crosslnk{stroke:#f60;fill:#f60}svg .up_pftv_disulfid{stroke:#23b14d;fill:#23b14d}svg .up_pftv_region{stroke:#b33e00;fill:#b33e00}svg .up_pftv_coiled{stroke:#069;fill:#069}svg .up_pftv_motif{stroke:#402060;fill:#402060}svg .up_pftv_repeat{stroke:#90f;fill:#90f}svg .up_pftv_ca_bind{stroke:#f39;fill:#f39}svg .up_pftv_dna_bind{stroke:#093;fill:#093}svg .up_pftv_domain{stroke:#99f;fill:#99f}svg .up_pftv_zn_fing{stroke:#906;fill:#906}svg .up_pftv_np_bind{stroke:#f90;fill:#f90}svg .up_pftv_metal{stroke:#090;fill:#090}svg .up_pftv_site{stroke:#603;fill:#603}svg .up_pftv_binding{stroke:#069;fill:#069}svg .up_pftv_act_site{stroke:#f66;fill:#f66}svg .up_pftv_mod_res{stroke:#006;fill:#006}svg .up_pftv_lipid{stroke:#9c3;fill:#9c3}svg .up_pftv_carbohyd{stroke:#c36;fill:#c36}svg .up_pftv_variant{stroke-width:1}svg .up_pftv_compbias{stroke:#f36;fill:#f36}svg .up_pftv_mutagen{stroke:#f90;fill:#f90}svg .up_pftv_conflict{stroke:#63c;fill:#63c}svg .up_pftv_non_cons{stroke:#f03;fill:#f03}svg .up_pftv_non_ter{stroke:#393;fill:#393}svg .up_pftv_unsure{stroke:#3f0;fill:#3f0}svg .up_pftv_non_std{stroke:#306;fill:#306}svg .up_pftv_topo_dom{stroke:#c00;fill:#c00}svg .up_pftv_transmem{stroke:#c0c;fill:#c0c}svg .up_pftv_intramem{stroke:#00c;fill:#00c}svg .up_pftv_unique{stroke:#fc3133;fill:#fd5a5d}svg .up_pftv_non_unique{stroke:#8585fc;fill:#5a60fb}svg .up_pftv_antigen{stroke:#969;fill:#969}.up_pftv_variants-svg .axis path{display:none}.up_pftv_variants-svg .axis text{font-size:10px;font-family:Helvetica neue,Helvetica,Arial,sans-serif}.up_pftv_variants-svg .variation-y.axis line{stroke:#ccc;opacity:.4}.up_pftv_variants-svg .variation-x.axis line{stroke:#000}.up_pftv_variants-svg circle.main-seq{fill:#fff;stroke:#4682b4;stroke-width:1.5px}.up_pftv_variants-svg .main-sequence{fill:green}.up_pftv_variants-svg circle{cursor:pointer;fill-opacity:.6}.up_pftv_variants-svg .up_pftv_variant_hidden{cursor:default;opacity:0}.up_pftv_variants-svg circle:hover{fill-opacity:.9}.up_pftv_dialog_checkboxLabel{opacity:.9}.up_pftv_dialog_checkboxLabel:hover{cursor:pointer;opacity:1}.up_pftv_message_wrapper{margin:.7em}.up_pftv_icon,.up_pftv_icon:before,.up_pftv_icon:after{position:relative;padding:0;margin:0}.up_pftv_icon{font-size:20px;color:transparent}.up_pftv_icon.up_pftv_warning{display:inline-block;top:.225em;width:1.15em;height:1.15em;overflow:hidden;border:none;background-color:transparent;border-radius:.625em}.up_pftv_icon.up_pftv_warning:before{content:"";display:block;top:-.08em;left:0;position:absolute;border:transparent .6em solid;border-bottom-color:#fd3;border-bottom-width:1em;border-top-width:0;box-shadow:#999 0 1px 1px}.up_pftv_icon.up_pftv_warning:after{display:block;position:absolute;top:.3em;left:0;width:100%;padding:0 1px;text-align:center;content:"!";font-size:.65em;font-weight:700;color:#333}a.up_pftv_icon-button:hover{border:1px solid #9CA8B4!important}.up_pftv_icon-button{border:1px solid #D7DCE0!important;border-radius:2.5em;display:inline-block;text-indent:-9999px;width:2.5em;height:2.5em;background-size:1.3em 1.3em!important;background-repeat:no-repeat!important;background-position:.6em .6em!important;margin:.2em}.up_pftv_icon-download{background:url(download.svg)}.up_pftv_icon-location{background:url(location.svg)}.up_pftv_icon-zoom-in{background:url(zoom-in.svg)}.up_pftv_icon-zoom-out{background:url(zoom-out.svg)}.up_pftv_icon-reset{background:url(reset.svg)}.up_pftv_icon-info{background:url(info.svg)}\n'],encapsulation:2}),n})();var E=r(886),$t=r(532);const Wt=["termPaginator"],Xt=["diseasePaginator"],Kt=["genePaginator"];function Vt(n,i){1&n&&e._UZ(0,"mat-progress-bar",35)}function en(n,i){1&n&&e._UZ(0,"mat-header-row")}function tn(n,i){1&n&&e._UZ(0,"mat-row")}function nn(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Term Identifier"),e.qZA())}function on(n,i){if(1&n&&(e.TgZ(0,"mat-cell")(1,"a",36),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.MGl("routerLink","/browse/term/",t.ontologyId,""),e.xp6(1),e.Oqu(t.ontologyId)}}function rn(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Term Name"),e.qZA())}function an(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function sn(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Matching String"),e.qZA())}const Q=function(n){return{name:n}};function cn(n,i){if(1&n&&(e._UZ(0,"mat-cell",37),e.ALo(1,"highlight")),2&n){const t=i.$implicit,o=e.oxw();e.Q6J("innerHtml",e.xi3(1,1,e.VKq(4,Q,t.matchingString),o.query),e.oJD)}}function ln(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," No. Descendants"),e.qZA())}function pn(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.childrenCount," ")}}function un(n,i){1&n&&e._UZ(0,"mat-progress-bar",35)}function mn(n,i){1&n&&e._UZ(0,"mat-header-row")}function dn(n,i){1&n&&e._UZ(0,"mat-row")}function _n(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Disease Identifier"),e.qZA())}function fn(n,i){if(1&n&&(e.TgZ(0,"mat-cell")(1,"a",36),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.MGl("routerLink","/browse/disease/",t.diseaseId,""),e.xp6(1),e.Oqu(t.diseaseId)}}function hn(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Disease Name"),e.qZA())}function gn(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.dbName," ")}}function bn(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Matching String"),e.qZA())}function vn(n,i){if(1&n&&(e._UZ(0,"mat-cell",37),e.ALo(1,"highlight")),2&n){const t=i.$implicit,o=e.oxw();e.Q6J("innerHtml",e.xi3(1,1,e.VKq(4,Q,t.matchingString),o.query),e.oJD)}}function yn(n,i){1&n&&e._UZ(0,"mat-progress-bar",35)}function xn(n,i){1&n&&e._UZ(0,"mat-header-row")}function Cn(n,i){1&n&&e._UZ(0,"mat-row")}function Tn(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Gene Identifier"),e.qZA())}function wn(n,i){if(1&n&&(e.TgZ(0,"mat-cell")(1,"a",36),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.MGl("routerLink","/browse/gene/",t.geneId,""),e.xp6(1),e.Oqu(t.geneId)}}function Zn(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Gene Symbol"),e.qZA())}function Sn(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",t.geneSymbol," ")}}function An(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Matching String"),e.qZA())}function On(n,i){if(1&n&&(e._UZ(0,"mat-cell",37),e.ALo(1,"highlight")),2&n){const t=i.$implicit,o=e.oxw();e.Q6J("innerHtml",e.xi3(1,1,e.VKq(4,Q,t.matchingString),o.query),e.oJD)}}const R=function(){return[50,100,500]};let Pn=(()=>{class n{constructor(t,o){this.route=t,this.searchService=o,this.terms=[],this.diseases=[],this.genes=[],this.isLoading=!0,this.navFilter="term",this.selectedTab=0,this.counts={term:0,disease:0,gene:0},this.termDisplayedColumns=["ontologyId","name","matching_string","childrenCount"],this.diseaseDisplayedColumns=["diseaseId","dbName","matching_string"],this.geneDisplayedColumns=["entrezGeneId","entrezGeneSymbol","matching_string"],this.route.queryParams.subscribe(m=>{this.query=m.q,this.navFilter=m.navFilter,this.reloadResultsData()})}setSelectedTab(){if("all"===this.navFilter){const t=Object.keys(this.counts).reduce((o,m)=>this.counts[o]>this.counts[m]?o:m);this.determineTab(t)}else this.determineTab(this.navFilter)}determineTab(t){"disease"===t?this.selectedTab=1:"gene"===t?this.selectedTab=2:"term"===t&&(this.selectedTab=0)}reloadResultsData(){this.isLoading=!0,this.searchService.searchFetchAll(this.query).subscribe(t=>{this.terms=this.termMatchingStringBuilder(t.terms),this.diseases=this.diseaseMatchingStringBuilder(t.diseases),this.genes=this.genesMatchingStringBuilder(t.genes),this.counts.term=t.termsTotalCount,this.counts.disease=t.diseasesTotalCount,this.counts.gene=t.genesTotalCount,this.termDataSource=new c.by(this.terms),this.diseaseDataSource=new c.by(this.diseases),this.geneDataSource=new c.by(this.genes),this.termDataSource.paginator=this.termPaginator,this.diseaseDataSource.paginator=this.diseasePaginator,this.geneDataSource.paginator=this.genePaginator,this.isLoading=!1,this.setSelectedTab()},t=>{console.log(t)})}termMatchingStringBuilder(t){return t.map(o=>{o.matchingString=null!=o.synonym?o.synonym:o.name}),t}diseaseMatchingStringBuilder(t){return t.map(o=>{o.dbName&&(o.matchingString=o.dbName)}),t}genesMatchingStringBuilder(t){return t.map(o=>{o.geneSymbol&&(o.matchingString=o.geneSymbol)}),t}applyTermFilter(t){t=(t=t.trim()).toLowerCase(),this.termDataSource.filter=t}applyDiseaseFilter(t){t=(t=t.trim()).toLowerCase(),this.diseaseDataSource.filter=t}applyGeneFilter(t){t=(t=t.trim()).toLowerCase(),this.geneDataSource.filter=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.gz),e.Y36(E.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-search-results"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Wt,7),e.Gf(Xt,7),e.Gf(Kt,7)),2&t){let m;e.iGM(m=e.CRH())&&(o.termPaginator=m.first),e.iGM(m=e.CRH())&&(o.diseasePaginator=m.first),e.iGM(m=e.CRH())&&(o.genePaginator=m.first)}},decls:88,vars:34,consts:[[1,"results-component"],[1,"container"],["fxLayout","row","fxLayoutAlign","center"],["fxFlex","80"],[1,"item-summary","mat-elevation-z6"],[1,"item-title"],[1,"hpo-group-tab"],[1,"term-details-tab-group","mat-elevation-z6","search-all-results-table",3,"selectedIndex","selectedIndexChange"],[3,"label","hidden"],["class","loading-result-details","color","primary","mode","buffer",4,"ngIf"],[3,"hidden"],[1,"filter-container","mat-elevation-z8"],[1,"filter-header"],["matInput","","placeholder","Filter",3,"keyup"],[3,"dataSource"],["table",""],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["matColumnDef","ontologyId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","matching_string"],[3,"innerHtml",4,"matCellDef"],["matColumnDef","childrenCount"],[3,"pageSizeOptions"],["termPaginator",""],[1,"container","center",3,"hidden"],["matColumnDef","diseaseId"],["matColumnDef","dbName"],["diseasePaginator",""],[3,"label"],["matColumnDef","entrezGeneId"],["matColumnDef","entrezGeneSymbol"],["genePaginator",""],["color","primary","mode","buffer",1,"loading-result-details"],[3,"routerLink"],[3,"innerHtml"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-card",4)(5,"mat-card-content")(6,"span",5),e._uU(7),e.qZA()()(),e.TgZ(8,"div",6)(9,"mat-tab-group",7),e.NdJ("selectedIndexChange",function(x){return o.selectedTab=x}),e.TgZ(10,"mat-tab",8),e.YNc(11,Vt,1,0,"mat-progress-bar",9),e.TgZ(12,"div",10)(13,"div",11)(14,"div",12)(15,"mat-form-field")(16,"input",13),e.NdJ("keyup",function(x){return o.applyTermFilter(x.target.value)}),e.qZA()()(),e.TgZ(17,"mat-table",14,15),e.YNc(19,en,1,0,"mat-header-row",16),e.YNc(20,tn,1,0,"mat-row",17),e.ynx(21,18),e.YNc(22,nn,2,0,"mat-header-cell",19),e.YNc(23,on,3,2,"mat-cell",20),e.BQk(),e.ynx(24,21),e.YNc(25,rn,2,0,"mat-header-cell",19),e.YNc(26,an,2,1,"mat-cell",20),e.BQk(),e.ynx(27,22),e.YNc(28,sn,2,0,"mat-header-cell",19),e.YNc(29,cn,2,6,"mat-cell",23),e.BQk(),e.ynx(30,24),e.YNc(31,ln,2,0,"mat-header-cell",19),e.YNc(32,pn,2,1,"mat-cell",20),e.BQk(),e.qZA(),e._UZ(33,"mat-paginator",25,26),e.qZA()(),e.TgZ(35,"div",27)(36,"h4"),e._uU(37),e.qZA()()(),e.TgZ(38,"mat-tab",8),e.YNc(39,un,1,0,"mat-progress-bar",9),e.TgZ(40,"div",10)(41,"div",11)(42,"div",12)(43,"mat-form-field")(44,"input",13),e.NdJ("keyup",function(x){return o.applyDiseaseFilter(x.target.value)}),e.qZA()()(),e.TgZ(45,"mat-table",14,15),e.YNc(47,mn,1,0,"mat-header-row",16),e.YNc(48,dn,1,0,"mat-row",17),e.ynx(49,28),e.YNc(50,_n,2,0,"mat-header-cell",19),e.YNc(51,fn,3,2,"mat-cell",20),e.BQk(),e.ynx(52,29),e.YNc(53,hn,2,0,"mat-header-cell",19),e.YNc(54,gn,2,1,"mat-cell",20),e.BQk(),e.ynx(55,22),e.YNc(56,bn,2,0,"mat-header-cell",19),e.YNc(57,vn,2,6,"mat-cell",23),e.BQk(),e.qZA(),e._UZ(58,"mat-paginator",25,30),e.qZA()(),e.TgZ(60,"div",27)(61,"h4"),e._uU(62),e.qZA()()(),e.TgZ(63,"mat-tab",31),e.YNc(64,yn,1,0,"mat-progress-bar",9),e.TgZ(65,"div",10)(66,"div",11)(67,"div",12)(68,"mat-form-field")(69,"input",13),e.NdJ("keyup",function(x){return o.applyGeneFilter(x.target.value)}),e.qZA()()(),e.TgZ(70,"mat-table",14,15),e.YNc(72,xn,1,0,"mat-header-row",16),e.YNc(73,Cn,1,0,"mat-row",17),e.ynx(74,32),e.YNc(75,Tn,2,0,"mat-header-cell",19),e.YNc(76,wn,3,2,"mat-cell",20),e.BQk(),e.ynx(77,33),e.YNc(78,Zn,2,0,"mat-header-cell",19),e.YNc(79,Sn,2,1,"mat-cell",20),e.BQk(),e.ynx(80,22),e.YNc(81,An,2,0,"mat-header-cell",19),e.YNc(82,On,2,6,"mat-cell",23),e.BQk(),e.qZA(),e._UZ(83,"mat-paginator",25,34),e.qZA()(),e.TgZ(85,"div",27)(86,"h4"),e._uU(87),e.qZA()()()()()()()()()),2&t&&(e.xp6(7),e.hij('Search Results For "',o.query,'"'),e.xp6(2),e.Q6J("selectedIndex",o.selectedTab),e.xp6(1),e.MGl("label","Term Results [",o.counts.term,"]"),e.Q6J("hidden",!o.termDataSource),e.xp6(1),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("hidden",0==o.terms.length),e.xp6(5),e.Q6J("dataSource",o.termDataSource),e.xp6(2),e.Q6J("matHeaderRowDef",o.termDisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.termDisplayedColumns),e.xp6(13),e.Q6J("pageSizeOptions",e.DdM(31,R)),e.xp6(2),e.Q6J("hidden",0!=o.terms.length||o.isLoading),e.xp6(2),e.hij('Sorry no term results found for.. "',o.query,'"'),e.xp6(1),e.MGl("label","Disease Results [",o.counts.disease,"]"),e.Q6J("hidden",!o.diseaseDataSource),e.xp6(1),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("hidden",0==o.diseases.length),e.xp6(5),e.Q6J("dataSource",o.diseaseDataSource),e.xp6(2),e.Q6J("matHeaderRowDef",o.diseaseDisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.diseaseDisplayedColumns),e.xp6(10),e.Q6J("pageSizeOptions",e.DdM(32,R)),e.xp6(2),e.Q6J("hidden",0!=o.diseases.length||o.isLoading),e.xp6(2),e.hij('Sorry no disease results found for.. "',o.query,'"'),e.xp6(1),e.MGl("label","Gene Results [",o.counts.gene,"]"),e.xp6(1),e.Q6J("ngIf",o.isLoading),e.xp6(1),e.Q6J("hidden",0==o.genes.length),e.xp6(5),e.Q6J("dataSource",o.geneDataSource),e.xp6(2),e.Q6J("matHeaderRowDef",o.geneDisplayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.geneDisplayedColumns),e.xp6(10),e.Q6J("pageSizeOptions",e.DdM(33,R)),e.xp6(2),e.Q6J("hidden",0!=o.genes.length||o.isLoading),e.xp6(2),e.hij('Sorry no gene results found for.. "',o.query,'"'))},dependencies:[d.O5,f.yS,A.KE,S.Nt,O.a8,O.dn,N.pW,D.SP,D.uX,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,U.NW,y.xw,y.Wh,y.yH,$t.S],styles:[".filter-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}.filter-header[_ngcontent-%COMP%]{min-height:64px;padding:8px 24px 0}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:500px}.results-component[_ngcontent-%COMP%]   .loading-result-details[_ngcontent-%COMP%]{margin:30px 10px;width:99%}.search-all-results-table[_ngcontent-%COMP%]   .mat-column-ontologyId[_ngcontent-%COMP%], .search-all-results-table[_ngcontent-%COMP%]   .mat-column-diseaseId[_ngcontent-%COMP%]{max-width:175px}.search-all-results-table[_ngcontent-%COMP%]   .mat-column-childrenCount[_ngcontent-%COMP%]{max-width:100px}"]}),n})();var Dn=r(2198),Mn=r(7221),Un=r(8001),Nn=r(8118),In=r(7392),kn=r(3238),j=r(7957),Y=r(6257),z=r(7331);const qn=["stepper"];function En(n,i){1&n&&e._uU(0,"Build Phenotype List")}function Qn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-option",20),e.NdJ("click",function(){const x=e.CHM(t).$implicit,w=e.oxw();return e.KtG(w.addTerm(x))}),e._uU(1),e.qZA()}if(2&n){const t=i.$implicit;e.xp6(1),e.AsE(" ",t.id," - ",t.name," ")}}function Rn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-list-item",23)(1,"p",24),e._uU(2),e.TgZ(3,"mat-icon",25),e.NdJ("click",function(){const x=e.CHM(t).index,w=e.oxw(2);return e.KtG(w.removeTerm(x))}),e._uU(4,"delete_forever"),e.qZA()()()}if(2&n){const t=i.$implicit;e.xp6(2),e.AsE("",t.id," - ",t.name," ")}}function Yn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const m=e.oxw(2);return e.KtG(m.submitTerms())}),e._uU(1,"Discover "),e.TgZ(2,"mat-icon"),e._uU(3,"arrow_right"),e.qZA()()}}function Jn(n,i){if(1&n&&(e.TgZ(0,"div",1)(1,"h3"),e._uU(2,"Your Phenotype Profile"),e.qZA(),e.TgZ(3,"mat-list"),e.YNc(4,Rn,5,2,"mat-list-item",21),e.qZA(),e.YNc(5,Yn,4,0,"button",22),e.qZA()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.selectedTerms),e.xp6(1),e.Q6J("ngIf",t.selectedTerms.length>0)}}function Ln(n,i){1&n&&e._uU(0,"Your Annotations")}function Gn(n,i){1&n&&e._UZ(0,"mat-progress-bar",27),2&n&&e.Q6J("color","accent")("mode","indeterminate")}function Hn(n,i){if(1&n&&(e.TgZ(0,"mat-chip",41),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.AsE(" ",t.id," - ",t.name," ")}}function Fn(n,i){1&n&&(e.TgZ(0,"mat-header-cell"),e._uU(1,"Disease Identifier"),e.qZA())}function jn(n,i){if(1&n&&(e.TgZ(0,"mat-cell")(1,"a",42),e._uU(2),e.qZA()()),2&n){const t=i.$implicit;e.xp6(1),e.MGl("routerLink","/browse/disease/",t.diseaseId,""),e.xp6(1),e.Oqu(t.diseaseId)}}function zn(n,i){1&n&&(e.TgZ(0,"mat-header-cell",43),e._uU(1," Disease Name "),e.qZA())}function Bn(n,i){if(1&n&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Oqu(t.diseaseName)}}function $n(n,i){1&n&&e._UZ(0,"mat-header-row")}function Wn(n,i){1&n&&e._UZ(0,"mat-row")}function Xn(n,i){1&n&&(e.TgZ(0,"p",44)(1,"strong"),e._uU(2,"No intersecting diseases for found your phenotypes."),e.qZA()())}function Kn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"mat-chip-list",28),e.YNc(2,Hn,2,2,"mat-chip",29),e.qZA(),e.TgZ(3,"mat-table",30),e.ynx(4,31),e.YNc(5,Fn,2,0,"mat-header-cell",32),e.YNc(6,jn,3,2,"mat-cell",33),e.BQk(),e.ynx(7,34),e.YNc(8,zn,2,0,"mat-header-cell",35),e.YNc(9,Bn,2,1,"mat-cell",33),e.BQk(),e.YNc(10,$n,1,0,"mat-header-row",36),e.YNc(11,Wn,1,0,"mat-row",37),e._UZ(12,"mat-paginator",38),e.qZA(),e.YNc(13,Xn,3,0,"p",39),e.TgZ(14,"button",40),e.NdJ("click",function(){e.CHM(t);const m=e.oxw();return e.KtG(m.resetStepper())}),e._uU(15,"Reset"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.selectedTerms),e.xp6(1),e.Q6J("dataSource",t.associationData),e.xp6(7),e.Q6J("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("length",t.resultsLength)("pageSize",30),e.xp6(1),e.Q6J("ngIf",0==t.resultsLength)}}const eo=f.Bz.forChild([{path:"term/:id",component:We},{path:"disease/:id",component:St},{path:"gene/:id",component:Bt},{path:"search",component:Pn},{path:"profile-search",component:(()=>{class n{constructor(t,o){this.searchService=t,this.termService=o,this.myControl=new b.p4,this.selectedTerms=[],this.submittedTerms=!1,this.loadingIntersectingAssociations=!0,this.intersectingAssocationError=!1,this.displayedColumns=["diseaseId","diseaseName"],this.resultsLength=0}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe((0,Dn.h)(t=>null!=t&&""!=t),(0,Un.switchMap)(t=>this.searchService.searchAll(t)),(0,q.U)(t=>t.terms))}addTerm(t){this.selectedTerms.some(o=>o.id==t.id)||this.selectedTerms.push(t)}removeTerm(t){this.selectedTerms.splice(t)}submitTerms(){this.stepper.next(),this.submittedTerms=!0,this.loadingIntersectingAssociations=!0;let t=this.selectedTerms.map(o=>o.ontologyId);this.termService.searchIntersectingAnnotations(t).pipe((0,q.U)(o=>(this.loadingIntersectingAssociations=!1,this.resultsLength=o.associations.length,o.associations)),(0,Mn.K)(()=>(this.intersectingAssocationError=!0,this.loadingIntersectingAssociations=!1,(0,Nn.of)([])))).subscribe(o=>this.associationData=o)}resetStepper(){this.stepper.reset(),this.submittedTerms=!1,this.selectedTerms=[],this.myControl.reset()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.o),e.Y36(p))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-custom"]],viewQuery:function(t,o){if(1&t&&(e.Gf(qn,5),e.Gf(U.NW,5),e.Gf(v.YE,5)),2&t){let m;e.iGM(m=e.CRH())&&(o.stepper=m.first),e.iGM(m=e.CRH())&&(o.paginator=m.first),e.iGM(m=e.CRH())&&(o.sort=m.first)}},decls:33,vars:9,consts:[[1,"news","container"],[1,"center"],["href","https://monarchinitiative.org/analyze/phenotypes","target","_blank"],["href","https://monarchinitiative.org/about/monarch","target","_blank"],["labelPosition","bottom"],["stepper",""],[3,"completed"],[1,"discover-form"],["matStepLabel",""],[1,"discover-search"],["type","text","placeholder","Search for a phenotype to add...","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"click",4,"ngFor","ngForOf"],["class","center",4,"ngIf"],[1,"hpo-group-tab"],[1,"associations"],[1,"text-center"],["class","example-margin",3,"color","mode",4,"ngIf"],[4,"ngIf"],[3,"click"],["class","phenotype-list",4,"ngFor","ngForOf"],["class","submit-btn","mat-stroked-button","","color","primary",3,"click",4,"ngIf"],[1,"phenotype-list"],[1,"phenotype-list-item"],[1,"remove-term-icon",3,"click"],["mat-stroked-button","","color","primary",1,"submit-btn",3,"click"],[1,"example-margin",3,"color","mode"],["aria-label","Your Selected Terms"],["class","query-chip",4,"ngFor","ngForOf"],["matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"intersecting-table","mat-elevation-z6",3,"dataSource"],["matColumnDef","diseaseId"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","diseaseName"],["mat-sort-header","","disableClear","",4,"matHeaderCellDef"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],["class","not-found",4,"ngIf"],["mat-raised-button","",1,"back-btn",3,"click"],[1,"query-chip"],[3,"routerLink"],["mat-sort-header","","disableClear",""],[1,"not-found"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Profile Search"),e.qZA(),e.TgZ(3,"h4",1),e._uU(4,"This tool will find diseases that share your profile of phenotypes. Similarly, there is a "),e.TgZ(5,"a",2),e._uU(6,"tool"),e.qZA(),e._uU(7," that the "),e.TgZ(8,"a",3),e._uU(9,"Monarch Initiative"),e.qZA(),e._uU(10," provides that will allow you compare your profile across species with a specific set of genes or diseases. "),e.qZA(),e.TgZ(11,"div")(12,"mat-horizontal-stepper",4,5)(14,"mat-step",6)(15,"form",7),e.YNc(16,En,1,0,"ng-template",8),e._UZ(17,"br"),e.TgZ(18,"mat-form-field",9),e._UZ(19,"input",10),e.TgZ(20,"mat-autocomplete",11,12),e.YNc(22,Qn,2,2,"mat-option",13),e.ALo(23,"async"),e.qZA()()(),e.YNc(24,Jn,6,2,"div",14),e.qZA(),e.TgZ(25,"mat-step",15),e.YNc(26,Ln,1,0,"ng-template",8),e.TgZ(27,"div",15)(28,"div",16)(29,"div",17),e.YNc(30,Gn,1,2,"mat-progress-bar",18),e.qZA(),e.YNc(31,Kn,16,8,"div",19),e.qZA()(),e._UZ(32,"div"),e.qZA()()()()),2&t){const m=e.MAs(21);e.xp6(14),e.Q6J("completed",o.submittedTerms),e.xp6(5),e.Q6J("formControl",o.myControl)("matAutocomplete",m),e.xp6(3),e.Q6J("ngForOf",e.lcZ(23,7,o.filteredOptions)),e.xp6(2),e.Q6J("ngIf",o.selectedTerms.length>0),e.xp6(6),e.Q6J("ngIf",o.loadingIntersectingAssociations),e.xp6(1),e.Q6J("ngIf",!o.loadingIntersectingAssociations)}},dependencies:[d.sg,d.O5,b._Y,b.Fj,b.JJ,b.JL,b.F,b.oH,f.yS,_.lW,A.KE,S.Nt,In.Hw,N.pW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,U.NW,v.YE,v.nU,M.i$,M.Tg,kn.ey,j.XC,j.ZL,Y.C0,Y.VY,Y.Vq,z.qn,z.HS,d.Ov],styles:[".discover-form[_ngcontent-%COMP%]{text-align:center}.discover-search[_ngcontent-%COMP%]{width:60%}.remove-term-icon[_ngcontent-%COMP%]{cursor:pointer;height:24px;width:24px;float:right}.remove-term-icon[_ngcontent-%COMP%]:hover{opacity:.75}.phenotype-list[_ngcontent-%COMP%]{text-transform:uppercase;background-color:#275669a6;margin-bottom:.25rem}.phenotype-list-item[_ngcontent-%COMP%]{width:100%;color:#fff;font-weight:700}.submit-btn[_ngcontent-%COMP%]{color:#fff;margin-top:25px;background-color:#0054a9}.submit-btn[_ngcontent-%COMP%]   .mat-button-wrapper[_ngcontent-%COMP%]{vertical-align:middle;font-weight:700}.back-btn[_ngcontent-%COMP%]{margin-top:1rem}.intersecting-table[_ngcontent-%COMP%]{margin-top:.5rem}.query-chip[_ngcontent-%COMP%]{color:#fff;font-size:12px;background-color:#275669a6}.not-found[_ngcontent-%COMP%]{text-align:center}"]}),n})()}]);let to=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.Bz,eo,f.Bz]}),n})();var no=r(2474),oo=r(7936);let io=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[E.o,p,H,G,Z],imports:[d.ez,b.u5,b.UX,to,no.c,oo.p]}),n})()},5742:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(1557),b=r(4802),f=r(7448),c=r(7302),v=r(4072),g=function(){function u(a){this._isScalar=!1,a&&(this._subscribe=a)}return u.prototype.lift=function(a){var e=new u;return e.source=this,e.operator=a,e},u.prototype.subscribe=function(a,e,p){var l=this.operator,_=b.toSubscriber(a,e,p);if(_.add(l?l.call(_,this.source):this.source||v.config.useDeprecatedSynchronousErrorHandling&&!_.syncErrorThrowable?this._subscribe(_):this._trySubscribe(_)),v.config.useDeprecatedSynchronousErrorHandling&&_.syncErrorThrowable&&(_.syncErrorThrowable=!1,_.syncErrorThrown))throw _.syncErrorValue;return _},u.prototype._trySubscribe=function(a){try{return this._subscribe(a)}catch(e){v.config.useDeprecatedSynchronousErrorHandling&&(a.syncErrorThrown=!0,a.syncErrorValue=e),d.canReportError(a)?a.error(e):console.warn(e)}},u.prototype.forEach=function(a,e){var p=this;return new(e=h(e))(function(l,_){var y;y=p.subscribe(function(C){try{a(C)}catch(Z){_(Z),y&&y.unsubscribe()}},_,l)})},u.prototype._subscribe=function(a){var e=this.source;return e&&e.subscribe(a)},u.prototype[f.observable]=function(){return this},u.prototype.pipe=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];return 0===a.length?this:c.pipeFromArray(a)(this)},u.prototype.toPromise=function(a){var e=this;return new(a=h(a))(function(p,l){var _;e.subscribe(function(y){return _=y},function(y){return l(y)},function(){return p(_)})})},u.create=function(a){return new u(a)},u}();function h(u){if(u||(u=v.config.Promise||Promise),!u)throw new Error("no Promise impl found");return u}s.Observable=g},7350:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(4072),b=r(2422);s.empty={closed:!0,next:function(f){},error:function(f){if(d.config.useDeprecatedSynchronousErrorHandling)throw f;b.hostReportError(f)},complete:function(){}}},3281:function(T,s,r){var e,d=this&&this.__extends||(e=function(p,l){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,y){_.__proto__=y}||function(_,y){for(var C in y)y.hasOwnProperty(C)&&(_[C]=y[C])})(p,l)},function(p,l){function _(){this.constructor=p}e(p,l),p.prototype=null===l?Object.create(l):(_.prototype=l.prototype,new _)});Object.defineProperty(s,"__esModule",{value:!0});var b=r(9607),f=r(7350),c=r(6052),v=r(2858),g=r(4072),h=r(2422),u=function(e){function p(l,_,y){var C=e.call(this)||this;switch(C.syncErrorValue=null,C.syncErrorThrown=!1,C.syncErrorThrowable=!1,C.isStopped=!1,arguments.length){case 0:C.destination=f.empty;break;case 1:if(!l){C.destination=f.empty;break}if("object"==typeof l){l instanceof p?(C.syncErrorThrowable=l.syncErrorThrowable,C.destination=l,l.add(C)):(C.syncErrorThrowable=!0,C.destination=new a(C,l));break}default:C.syncErrorThrowable=!0,C.destination=new a(C,l,_,y)}return C}return d(p,e),p.prototype[v.rxSubscriber]=function(){return this},p.create=function(l,_,y){var C=new p(l,_,y);return C.syncErrorThrowable=!1,C},p.prototype.next=function(l){this.isStopped||this._next(l)},p.prototype.error=function(l){this.isStopped||(this.isStopped=!0,this._error(l))},p.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},p.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},p.prototype._next=function(l){this.destination.next(l)},p.prototype._error=function(l){this.destination.error(l),this.unsubscribe()},p.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},p.prototype._unsubscribeAndRecycle=function(){var l=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=l,this},p}(c.Subscription);s.Subscriber=u;var a=function(e){function p(l,_,y,C){var Z=e.call(this)||this;Z._parentSubscriber=l;var A,S=Z;return b.isFunction(_)?A=_:_&&(A=_.next,y=_.error,C=_.complete,_!==f.empty&&(S=Object.create(_),b.isFunction(S.unsubscribe)&&Z.add(S.unsubscribe.bind(S)),S.unsubscribe=Z.unsubscribe.bind(Z))),Z._context=S,Z._next=A,Z._error=y,Z._complete=C,Z}return d(p,e),p.prototype.next=function(l){if(!this.isStopped&&this._next){var _=this._parentSubscriber;g.config.useDeprecatedSynchronousErrorHandling&&_.syncErrorThrowable?this.__tryOrSetError(_,this._next,l)&&this.unsubscribe():this.__tryOrUnsub(this._next,l)}},p.prototype.error=function(l){if(!this.isStopped){var _=this._parentSubscriber,y=g.config.useDeprecatedSynchronousErrorHandling;if(this._error)y&&_.syncErrorThrowable?(this.__tryOrSetError(_,this._error,l),this.unsubscribe()):(this.__tryOrUnsub(this._error,l),this.unsubscribe());else if(_.syncErrorThrowable)y?(_.syncErrorValue=l,_.syncErrorThrown=!0):h.hostReportError(l),this.unsubscribe();else{if(this.unsubscribe(),y)throw l;h.hostReportError(l)}}},p.prototype.complete=function(){var l=this;if(!this.isStopped){var _=this._parentSubscriber;if(this._complete){var y=function(){return l._complete.call(l._context)};g.config.useDeprecatedSynchronousErrorHandling&&_.syncErrorThrowable?(this.__tryOrSetError(_,y),this.unsubscribe()):(this.__tryOrUnsub(y),this.unsubscribe())}else this.unsubscribe()}},p.prototype.__tryOrUnsub=function(l,_){try{l.call(this._context,_)}catch(y){if(this.unsubscribe(),g.config.useDeprecatedSynchronousErrorHandling)throw y;h.hostReportError(y)}},p.prototype.__tryOrSetError=function(l,_,y){if(!g.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{_.call(this._context,y)}catch(C){return g.config.useDeprecatedSynchronousErrorHandling?(l.syncErrorValue=C,l.syncErrorThrown=!0,!0):(h.hostReportError(C),!0)}return!1},p.prototype._unsubscribe=function(){var l=this._parentSubscriber;this._context=null,this._parentSubscriber=null,l.unsubscribe()},p}(u);s.SafeSubscriber=a},6052:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(5019),b=r(2556),f=r(9607),c=r(2142),v=function(){function h(u){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,u&&(this._ctorUnsubscribe=!0,this._unsubscribe=u)}return h.prototype.unsubscribe=function(){var u;if(!this.closed){var a=this,e=a._parentOrParents,p=a._ctorUnsubscribe,l=a._unsubscribe,_=a._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof h)e.remove(this);else if(null!==e)for(var y=0;y<e.length;++y)e[y].remove(this);if(f.isFunction(l)){p&&(this._unsubscribe=void 0);try{l.call(this)}catch(S){u=S instanceof c.UnsubscriptionError?g(S.errors):[S]}}if(d.isArray(_)){y=-1;for(var Z=_.length;++y<Z;){var A=_[y];if(b.isObject(A))try{A.unsubscribe()}catch(O){u=u||[],O instanceof c.UnsubscriptionError?u=u.concat(g(O.errors)):u.push(O)}}}if(u)throw new c.UnsubscriptionError(u)}},h.prototype.add=function(u){var a=u;if(!u)return h.EMPTY;switch(typeof u){case"function":a=new h(u);case"object":if(a===this||a.closed||"function"!=typeof a.unsubscribe)return a;if(this.closed)return a.unsubscribe(),a;if(!(a instanceof h)){var e=a;(a=new h)._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+u+" added to Subscription.")}var p=a._parentOrParents;if(null===p)a._parentOrParents=this;else if(p instanceof h){if(p===this)return a;a._parentOrParents=[p,this]}else{if(-1!==p.indexOf(this))return a;p.push(this)}var l=this._subscriptions;return null===l?this._subscriptions=[a]:l.push(a),a},h.prototype.remove=function(u){var a=this._subscriptions;if(a){var e=a.indexOf(u);-1!==e&&a.splice(e,1)}},h.EMPTY=((u=new h).closed=!0,u),h;var u}();function g(h){return h.reduce(function(u,a){return u.concat(a instanceof c.UnsubscriptionError?a.errors:a)},[])}s.Subscription=v},4072:(T,s)=>{Object.defineProperty(s,"__esModule",{value:!0});var r=!1;s.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(d){if(d){var b=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+b.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=d},get useDeprecatedSynchronousErrorHandling(){return r}}},1914:function(T,s,r){var e,d=this&&this.__extends||(e=function(p,l){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,y){_.__proto__=y}||function(_,y){for(var C in y)y.hasOwnProperty(C)&&(_[C]=y[C])})(p,l)},function(p,l){function _(){this.constructor=p}e(p,l),p.prototype=null===l?Object.create(l):(_.prototype=l.prototype,new _)});Object.defineProperty(s,"__esModule",{value:!0});var b=r(3281),f=r(5742),c=r(8160),v=function(e){function p(l){var _=e.call(this)||this;return _.parent=l,_}return d(p,e),p.prototype._next=function(l){this.parent.notifyNext(l)},p.prototype._error=function(l){this.parent.notifyError(l),this.unsubscribe()},p.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},p}(b.Subscriber);s.SimpleInnerSubscriber=v;var g=function(e){function p(l,_,y){var C=e.call(this)||this;return C.parent=l,C.outerValue=_,C.outerIndex=y,C}return d(p,e),p.prototype._next=function(l){this.parent.notifyNext(this.outerValue,l,this.outerIndex,this)},p.prototype._error=function(l){this.parent.notifyError(l),this.unsubscribe()},p.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},p}(b.Subscriber);s.ComplexInnerSubscriber=g;var h=function(e){function p(){return null!==e&&e.apply(this,arguments)||this}return d(p,e),p.prototype.notifyNext=function(l){this.destination.next(l)},p.prototype.notifyError=function(l){this.destination.error(l)},p.prototype.notifyComplete=function(){this.destination.complete()},p}(b.Subscriber);s.SimpleOuterSubscriber=h;var u=function(e){function p(){return null!==e&&e.apply(this,arguments)||this}return d(p,e),p.prototype.notifyNext=function(l,_,y,C){this.destination.next(_)},p.prototype.notifyError=function(l){this.destination.error(l)},p.prototype.notifyComplete=function(l){this.destination.complete()},p}(b.Subscriber);s.ComplexOuterSubscriber=u,s.innerSubscribe=function a(e,p){if(!p.closed){if(e instanceof f.Observable)return e.subscribe(p);var l;try{l=c.subscribeTo(e)(p)}catch(_){p.error(_)}return l}}},6167:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(5742),b=r(8160),f=r(1212);s.from=function c(v,g){return g?f.scheduled(v,g):v instanceof d.Observable?v:new d.Observable(b.subscribeTo(v))}},2653:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(5742),b=r(6887),f=r(8360);s.fromArray=function c(v,g){return g?f.scheduleArray(v,g):new d.Observable(b.subscribeToArray(v))}},8118:(T,s,r)=>{var b=r(1096),f=r(2653),c=r(8360);s.of=function v(){for(var g=[],h=0;h<arguments.length;h++)g[h]=arguments[h];var u=g[g.length-1];return b.isScheduler(u)?(g.pop(),c.scheduleArray(g,u)):f.fromArray(g)}},3772:function(T,s,r){var g,d=this&&this.__extends||(g=function(h,u){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var p in e)e.hasOwnProperty(p)&&(a[p]=e[p])})(h,u)},function(h,u){function a(){this.constructor=h}g(h,u),h.prototype=null===u?Object.create(u):(a.prototype=u.prototype,new a)});Object.defineProperty(s,"__esModule",{value:!0});var b=r(3281);s.map=function f(g,h){return function(a){if("function"!=typeof g)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return a.lift(new c(g,h))}};var c=function(){function g(h,u){this.project=h,this.thisArg=u}return g.prototype.call=function(h,u){return u.subscribe(new v(h,this.project,this.thisArg))},g}();s.MapOperator=c;var v=function(g){function h(u,a,e){var p=g.call(this,u)||this;return p.project=a,p.count=0,p.thisArg=e||p,p}return d(h,g),h.prototype._next=function(u){var a;try{a=this.project.call(this.thisArg,u,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(a)},h}(b.Subscriber)},8001:function(T,s,r){var u,d=this&&this.__extends||(u=function(a,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,l){p.__proto__=l}||function(p,l){for(var _ in l)l.hasOwnProperty(_)&&(p[_]=l[_])})(a,e)},function(a,e){function p(){this.constructor=a}u(a,e),a.prototype=null===e?Object.create(e):(p.prototype=e.prototype,new p)});Object.defineProperty(s,"__esModule",{value:!0});var b=r(3772),f=r(6167),c=r(1914);s.switchMap=function v(u,a){return"function"==typeof a?function(e){return e.pipe(v(function(p,l){return f.from(u(p,l)).pipe(b.map(function(_,y){return a(p,_,l,y)}))}))}:function(e){return e.lift(new g(u))}};var g=function(){function u(a){this.project=a}return u.prototype.call=function(a,e){return e.subscribe(new h(a,this.project))},u}(),h=function(u){function a(e,p){var l=u.call(this,e)||this;return l.project=p,l.index=0,l}return d(a,u),a.prototype._next=function(e){var p,l=this.index++;try{p=this.project(e,l)}catch(_){return void this.destination.error(_)}this._innerSub(p)},a.prototype._innerSub=function(e){var p=this.innerSubscription;p&&p.unsubscribe();var l=new c.SimpleInnerSubscriber(this),_=this.destination;_.add(l),this.innerSubscription=c.innerSubscribe(e,l),this.innerSubscription!==l&&_.add(this.innerSubscription)},a.prototype._complete=function(){var e=this.innerSubscription;(!e||e.closed)&&u.prototype._complete.call(this),this.unsubscribe()},a.prototype._unsubscribe=function(){this.innerSubscription=void 0},a.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&u.prototype._complete.call(this)},a.prototype.notifyNext=function(e){this.destination.next(e)},a}(c.SimpleOuterSubscriber)},8360:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(5742),b=r(6052);s.scheduleArray=function f(c,v){return new d.Observable(function(g){var h=new b.Subscription,u=0;return h.add(v.schedule(function(){u!==c.length?(g.next(c[u++]),g.closed||h.add(this.schedule())):g.complete()})),h})}},6198:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(5742),b=r(6052),f=r(7519);s.scheduleIterable=function c(v,g){if(!v)throw new Error("Iterable cannot be null");return new d.Observable(function(h){var a,u=new b.Subscription;return u.add(function(){a&&"function"==typeof a.return&&a.return()}),u.add(g.schedule(function(){a=v[f.iterator](),u.add(g.schedule(function(){if(!h.closed){var e,p;try{var l=a.next();e=l.value,p=l.done}catch(_){return void h.error(_)}p?h.complete():(h.next(e),this.schedule())}}))})),u})}},4996:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(5742),b=r(6052),f=r(7448);s.scheduleObservable=function c(v,g){return new d.Observable(function(h){var u=new b.Subscription;return u.add(g.schedule(function(){var a=v[f.observable]();u.add(a.subscribe({next:function(e){u.add(g.schedule(function(){return h.next(e)}))},error:function(e){u.add(g.schedule(function(){return h.error(e)}))},complete:function(){u.add(g.schedule(function(){return h.complete()}))}}))})),u})}},3769:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(5742),b=r(6052);s.schedulePromise=function f(c,v){return new d.Observable(function(g){var h=new b.Subscription;return h.add(v.schedule(function(){return c.then(function(u){h.add(v.schedule(function(){g.next(u),h.add(v.schedule(function(){return g.complete()}))}))},function(u){h.add(v.schedule(function(){return g.error(u)}))})})),h})}},1212:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(4996),b=r(3769),f=r(8360),c=r(6198),v=r(65),g=r(2418),h=r(7542),u=r(8205);s.scheduled=function a(e,p){if(null!=e){if(v.isInteropObservable(e))return d.scheduleObservable(e,p);if(g.isPromise(e))return b.schedulePromise(e,p);if(h.isArrayLike(e))return f.scheduleArray(e,p);if(u.isIterable(e)||"string"==typeof e)return c.scheduleIterable(e,p)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}},7519:(T,s)=>{function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(s,"__esModule",{value:!0}),s.getSymbolIterator=r,s.iterator=r(),s.$$iterator=s.iterator},7448:(T,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},2858:(T,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),s.$$rxSubscriber=s.rxSubscriber},2142:(T,s)=>{Object.defineProperty(s,"__esModule",{value:!0});var r=function(){function d(b){return Error.call(this),this.message=b?b.length+" errors occurred during unsubscription:\n"+b.map(function(f,c){return c+1+") "+f.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=b,this}return d.prototype=Object.create(Error.prototype),d}();s.UnsubscriptionError=r},1557:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(3281);s.canReportError=function b(f){for(;f;){var g=f.destination;if(f.closed||f.isStopped)return!1;f=g&&g instanceof d.Subscriber?g:null}return!0}},2422:(T,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.hostReportError=function r(d){setTimeout(function(){throw d},0)}},6610:(T,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.identity=function r(d){return d}},5019:(T,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isArray=Array.isArray||function(r){return r&&"number"==typeof r.length}},7542:(T,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isArrayLike=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r}},9607:(T,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isFunction=function r(d){return"function"==typeof d}},65:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(7448);s.isInteropObservable=function b(f){return f&&"function"==typeof f[d.observable]}},8205:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(7519);s.isIterable=function b(f){return f&&"function"==typeof f[d.iterator]}},2556:(T,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isObject=function r(d){return null!==d&&"object"==typeof d}},2418:(T,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isPromise=function r(d){return!!d&&"function"!=typeof d.subscribe&&"function"==typeof d.then}},1096:(T,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isScheduler=function r(d){return d&&"function"==typeof d.schedule}},7302:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(6610);function f(c){return 0===c.length?d.identity:1===c.length?c[0]:function(g){return c.reduce(function(h,u){return u(h)},g)}}s.pipe=function b(){for(var c=[],v=0;v<arguments.length;v++)c[v]=arguments[v];return f(c)},s.pipeFromArray=f},8160:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(6887),b=r(6948),f=r(111),c=r(5866),v=r(7542),g=r(2418),h=r(2556),u=r(7519),a=r(7448);s.subscribeTo=function(e){if(e&&"function"==typeof e[a.observable])return c.subscribeToObservable(e);if(v.isArrayLike(e))return d.subscribeToArray(e);if(g.isPromise(e))return b.subscribeToPromise(e);if(e&&"function"==typeof e[u.iterator])return f.subscribeToIterable(e);var p=h.isObject(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+p+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},6887:(T,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.subscribeToArray=function(r){return function(d){for(var b=0,f=r.length;b<f&&!d.closed;b++)d.next(r[b]);d.complete()}}},111:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(7519);s.subscribeToIterable=function(b){return function(f){for(var c=b[d.iterator]();;){var v=void 0;try{v=c.next()}catch(g){return f.error(g),f}if(v.done){f.complete();break}if(f.next(v.value),f.closed)break}return"function"==typeof c.return&&f.add(function(){c.return&&c.return()}),f}}},5866:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(7448);s.subscribeToObservable=function(b){return function(f){var c=b[d.observable]();if("function"!=typeof c.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return c.subscribe(f)}}},6948:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(2422);s.subscribeToPromise=function(b){return function(f){return b.then(function(c){f.closed||(f.next(c),f.complete())},function(c){return f.error(c)}).then(null,d.hostReportError),f}}},4802:(T,s,r)=>{Object.defineProperty(s,"__esModule",{value:!0});var d=r(3281),b=r(2858),f=r(7350);s.toSubscriber=function c(v,g,h){if(v){if(v instanceof d.Subscriber)return v;if(v[b.rxSubscriber])return v[b.rxSubscriber]()}return v||g||h?new d.Subscriber(v,g,h):new d.Subscriber(f.empty)}}}]);