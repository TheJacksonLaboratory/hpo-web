{"file":"/Users/gargam/Develop/hpo-web/src/app/static/news/news.component.ts","mappings":";;;;AAAA,wCAA2F;AAE3F,iEAA6D;AAC7D,4CAAiD;AACjD,gDAAmD;AACnD,uDAAuD;AAOhD,IAAM,aAAa,GAAnB,MAAM,aAAa;IAYxB,YAAoB,WAAwB,EAAU,KAAqB,EAAE,iBAAoC,EAAE,KAAmB;QAAlH,gBAAW,GAAX,WAAW,CAAa;QAAU,UAAK,GAAL,KAAK,CAAgB;QAR3E,oBAAe,GAAG,EAAE,CAAC;QACrB,eAAU,GAAG,EAAE,CAAC;QAEhB,UAAK,GAAG,KAAK,CAAC;QAMZ,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,UAAU,CAAC,oBAAoB,CAAC,CAAC;QAC1D,IAAI,CAAC,oBAAoB,GAAG,GAAG,EAAE,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;QACpE,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;IACzE,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE;YACrC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,CAAC,KAAK,EAAE,EAAE;YACpD,IAAI,KAAK,EAAE,CAAC;gBACV,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,UAAU,IAAI,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACvG,IAAI,CAAC,eAAe,EAAE,CAAC;YACzB,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YACpB,CAAC;QACH,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,WAAW;QACT,IAAI,CAAC,WAAW,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;IAC5E,CAAC;IAED,cAAc,CAAC,IAAI;QACjB,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;QACrB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,eAAe;QACb,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YACtE,IAAI,IAAI,EAAE,CAAC;gBACT,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACtB,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YACpB,CAAC;QAEH,CAAC,CAAC,CAAC;IACL,CAAC;;;;;;;;0BA5CA,gBAAS,SAAC,SAAS;;;AATT,sCAAa;wBAAb,aAAa;IALzB,IAAA,gBAAS,EAAC;QACT,QAAQ,EAAE,UAAU;QACpB,0CAAoC;KAErC,CAAC;6CAaiC,0BAAW,EAAiB,uBAAc,EAAqB,wBAAiB,EAAS,qBAAY;GAZ3H,aAAa,CAuDzB","names":[],"sources":["/Users/gargam/Develop/hpo-web/src/app/static/news/news.component.ts"],"sourcesContent":["import { ChangeDetectorRef, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { News } from '../../browser/models/models';\nimport { NewsService } from '../../shared/news/news.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { MediaMatcher } from \"@angular/cdk/layout\";\nimport { MatSidenav } from \"@angular/material/sidenav\";\n\n@Component({\n  selector: 'app-news',\n  templateUrl: './news.component.html',\n  styleUrls: ['./news.component.css']\n})\nexport class NewsComponent implements OnInit, OnDestroy {\n  mobileQuery: MediaQueryList;\n  private _mobileQueryListener: () => void;\n  dates: Array<string>;\n  currentSelected = '';\n  teaserDate = '';\n  content: Array<News>;\n  error = false;\n\n  @ViewChild('sidenav')\n  private sidenav: MatSidenav;\n\n  constructor(private newsService: NewsService, private route: ActivatedRoute, changeDetectorRef: ChangeDetectorRef, media: MediaMatcher) {\n    this.mobileQuery = media.matchMedia('(max-width: 600px)');\n    this._mobileQueryListener = () => changeDetectorRef.detectChanges();\n    this.mobileQuery.addEventListener('change', this._mobileQueryListener);\n  }\n\n  ngOnInit() {\n    this.route.params.subscribe((params) => {\n      this.teaserDate = params['id'];\n    });\n    this.newsService.getUniqueDates().subscribe((dates) => {\n      if (dates) {\n        this.dates = dates;\n        this.currentSelected = this.teaserDate && dates.includes(this.teaserDate) ? this.teaserDate : dates[0];\n        this.updateNewsItems();\n      } else {\n        this.error = true;\n      }\n    });\n\n  }\n\n  ngOnDestroy(): void {\n    this.mobileQuery.removeEventListener('change', this._mobileQueryListener);\n  }\n\n  setCurrentDate(date) {\n    this.sidenav.close();\n    this.currentSelected = date;\n    this.updateNewsItems();\n  }\n\n  updateNewsItems() {\n    this.newsService.getNewsByDate(this.currentSelected).subscribe((data) => {\n      if (data) {\n        this.content = data;\n      } else {\n        this.error = true;\n      }\n\n    });\n  }\n\n}\n"],"version":3}