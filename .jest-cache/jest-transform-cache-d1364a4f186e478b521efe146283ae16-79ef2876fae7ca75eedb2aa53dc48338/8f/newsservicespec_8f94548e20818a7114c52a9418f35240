13c0b0abe408ebda766e028280480010
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const testing_1 = require("@angular/core/testing");
const news_service_1 = require("./news.service");
const testing_2 = require("@angular/common/http/testing");
const news_mock_1 = require("./news.mock");
const http_1 = require("@angular/common/http");
describe('NewsService', () => {
    beforeEach(() => {
        testing_1.TestBed.configureTestingModule({
            imports: [],
            providers: [news_service_1.NewsService, (0, http_1.provideHttpClient)((0, http_1.withInterceptorsFromDi)()), (0, testing_2.provideHttpClientTesting)()]
        });
    });
    it('should be created', (0, testing_1.inject)([news_service_1.NewsService], (service) => {
        expect(service).toBeTruthy();
    }));
    it('should return unique dates and current date items', (0, testing_1.inject)([
        testing_2.HttpTestingController, news_service_1.NewsService
    ], (httpMock, newsService) => {
        newsService['allNews'] = news_mock_1.subMockNews;
        // call our service, and once the results come in
        // expect them to have the proper data (filled in
        // using the mock below)
        newsService.getUniqueDates().subscribe(dates => {
            expect(dates).toBeDefined();
            expect(dates.length).toBe(2);
            expect(dates[0]).toEqual('April 2018');
            expect(dates[1]).toEqual('March 2018');
        });
        newsService.getNewsByDate('April 2018').subscribe(dates => {
            expect(dates.length).toBe(2);
            expect(dates[0].body).toEqual('fake test body1');
            expect(dates[1].body).toEqual('fake test body2');
        });
    }));
    it('should get 3 most recent news items by date', (0, testing_1.inject)([
        testing_2.HttpTestingController, news_service_1.NewsService
    ], (httpMock, newsService) => {
        newsService['allNews'] = news_mock_1.allMockNews;
        newsService.getTeaserNews().subscribe(teaserNews => {
            expect(teaserNews).toBeDefined();
            expect(teaserNews.length).toBe(3);
            expect(teaserNews[0].date).toEqual('December 17, 2019');
            expect(teaserNews[1].date).toEqual('April 10, 2018');
            expect(teaserNews[2].date).toEqual('April 9, 2018');
        });
    }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2dhcmdhbS9EZXZlbG9wL2hwby13ZWIvc3JjL2FwcC9zaGFyZWQvbmV3cy9uZXdzLnNlcnZpY2Uuc3BlYy50cyIsIm1hcHBpbmdzIjoiOztBQUFBLG1EQUF3RDtBQUN4RCxpREFBNkM7QUFDN0MsMERBQStGO0FBQy9GLDJDQUF1RDtBQUN2RCwrQ0FBaUY7QUFFakYsUUFBUSxDQUFDLGFBQWEsRUFBRSxHQUFHLEVBQUU7SUFDM0IsVUFBVSxDQUFDLEdBQUcsRUFBRTtRQUNkLGlCQUFPLENBQUMsc0JBQXNCLENBQUM7WUFDL0IsT0FBTyxFQUFFLEVBQUU7WUFDWCxTQUFTLEVBQUUsQ0FBQywwQkFBVyxFQUFFLElBQUEsd0JBQWlCLEVBQUMsSUFBQSw2QkFBc0IsR0FBRSxDQUFDLEVBQUUsSUFBQSxrQ0FBd0IsR0FBRSxDQUFDO1NBQ3BHLENBQUMsQ0FBQztJQUNELENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLG1CQUFtQixFQUFFLElBQUEsZ0JBQU0sRUFBQyxDQUFDLDBCQUFXLENBQUMsRUFBRSxDQUFDLE9BQW9CLEVBQUUsRUFBRTtRQUNyRSxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDL0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVKLEVBQUUsQ0FBQyxtREFBbUQsRUFBRSxJQUFBLGdCQUFNLEVBQUM7UUFDN0QsK0JBQXFCLEVBQUUsMEJBQVc7S0FDbkMsRUFBRSxDQUFDLFFBQVEsRUFBRSxXQUF3QixFQUFFLEVBQUU7UUFDeEMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxHQUFHLHVCQUFXLENBQUM7UUFFckMsaURBQWlEO1FBQ2pELGlEQUFpRDtRQUNqRCx3QkFBd0I7UUFDeEIsV0FBVyxDQUFDLGNBQWMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUM3QyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDNUIsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDN0IsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3pDLENBQUMsQ0FBQyxDQUFDO1FBRUgsV0FBVyxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDeEQsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDN0IsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUNqRCxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ25ELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVKLEVBQUUsQ0FBQyw2Q0FBNkMsRUFBRSxJQUFBLGdCQUFNLEVBQUM7UUFDdkQsK0JBQXFCLEVBQUUsMEJBQVc7S0FDbkMsRUFBRSxDQUFDLFFBQVEsRUFBRSxXQUF3QixFQUFFLEVBQUU7UUFDeEMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxHQUFHLHVCQUFXLENBQUM7UUFDckMsV0FBVyxDQUFDLGFBQWEsRUFBRSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUNqRCxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDakMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUN4RCxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3JELE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ3RELENBQUMsQ0FBQyxDQUFDO0lBRUwsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQyxDQUFDIiwibmFtZXMiOltdLCJzb3VyY2VzIjpbIi9Vc2Vycy9nYXJnYW0vRGV2ZWxvcC9ocG8td2ViL3NyYy9hcHAvc2hhcmVkL25ld3MvbmV3cy5zZXJ2aWNlLnNwZWMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5qZWN0LCBUZXN0QmVkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZS90ZXN0aW5nJztcbmltcG9ydCB7IE5ld3NTZXJ2aWNlIH0gZnJvbSAnLi9uZXdzLnNlcnZpY2UnO1xuaW1wb3J0IHsgSHR0cFRlc3RpbmdDb250cm9sbGVyLCBwcm92aWRlSHR0cENsaWVudFRlc3RpbmcgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cC90ZXN0aW5nJztcbmltcG9ydCB7IGFsbE1vY2tOZXdzLCBzdWJNb2NrTmV3cyB9IGZyb20gJy4vbmV3cy5tb2NrJztcbmltcG9ydCB7IHByb3ZpZGVIdHRwQ2xpZW50LCB3aXRoSW50ZXJjZXB0b3JzRnJvbURpIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5kZXNjcmliZSgnTmV3c1NlcnZpY2UnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIFRlc3RCZWQuY29uZmlndXJlVGVzdGluZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW10sXG4gICAgcHJvdmlkZXJzOiBbTmV3c1NlcnZpY2UsIHByb3ZpZGVIdHRwQ2xpZW50KHdpdGhJbnRlcmNlcHRvcnNGcm9tRGkoKSksIHByb3ZpZGVIdHRwQ2xpZW50VGVzdGluZygpXVxufSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgYmUgY3JlYXRlZCcsIGluamVjdChbTmV3c1NlcnZpY2VdLCAoc2VydmljZTogTmV3c1NlcnZpY2UpID0+IHtcbiAgICBleHBlY3Qoc2VydmljZSkudG9CZVRydXRoeSgpO1xuICB9KSk7XG5cbiAgaXQoJ3Nob3VsZCByZXR1cm4gdW5pcXVlIGRhdGVzIGFuZCBjdXJyZW50IGRhdGUgaXRlbXMnLCBpbmplY3QoW1xuICAgIEh0dHBUZXN0aW5nQ29udHJvbGxlciwgTmV3c1NlcnZpY2VcbiAgXSwgKGh0dHBNb2NrLCBuZXdzU2VydmljZTogTmV3c1NlcnZpY2UpID0+IHtcbiAgICBuZXdzU2VydmljZVsnYWxsTmV3cyddID0gc3ViTW9ja05ld3M7XG5cbiAgICAvLyBjYWxsIG91ciBzZXJ2aWNlLCBhbmQgb25jZSB0aGUgcmVzdWx0cyBjb21lIGluXG4gICAgLy8gZXhwZWN0IHRoZW0gdG8gaGF2ZSB0aGUgcHJvcGVyIGRhdGEgKGZpbGxlZCBpblxuICAgIC8vIHVzaW5nIHRoZSBtb2NrIGJlbG93KVxuICAgIG5ld3NTZXJ2aWNlLmdldFVuaXF1ZURhdGVzKCkuc3Vic2NyaWJlKGRhdGVzID0+IHtcbiAgICAgIGV4cGVjdChkYXRlcykudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChkYXRlcy5sZW5ndGgpLnRvQmUoMik7XG4gICAgICBleHBlY3QoZGF0ZXNbMF0pLnRvRXF1YWwoJ0FwcmlsIDIwMTgnKTtcbiAgICAgIGV4cGVjdChkYXRlc1sxXSkudG9FcXVhbCgnTWFyY2ggMjAxOCcpO1xuICAgIH0pO1xuXG4gICAgbmV3c1NlcnZpY2UuZ2V0TmV3c0J5RGF0ZSgnQXByaWwgMjAxOCcpLnN1YnNjcmliZShkYXRlcyA9PiB7XG4gICAgICBleHBlY3QoZGF0ZXMubGVuZ3RoKS50b0JlKDIpO1xuICAgICAgZXhwZWN0KGRhdGVzWzBdLmJvZHkpLnRvRXF1YWwoJ2Zha2UgdGVzdCBib2R5MScpO1xuICAgICAgZXhwZWN0KGRhdGVzWzFdLmJvZHkpLnRvRXF1YWwoJ2Zha2UgdGVzdCBib2R5MicpO1xuICAgIH0pO1xuICB9KSk7XG5cbiAgaXQoJ3Nob3VsZCBnZXQgMyBtb3N0IHJlY2VudCBuZXdzIGl0ZW1zIGJ5IGRhdGUnLCBpbmplY3QoW1xuICAgIEh0dHBUZXN0aW5nQ29udHJvbGxlciwgTmV3c1NlcnZpY2VcbiAgXSwgKGh0dHBNb2NrLCBuZXdzU2VydmljZTogTmV3c1NlcnZpY2UpID0+IHtcbiAgICBuZXdzU2VydmljZVsnYWxsTmV3cyddID0gYWxsTW9ja05ld3M7XG4gICAgbmV3c1NlcnZpY2UuZ2V0VGVhc2VyTmV3cygpLnN1YnNjcmliZSh0ZWFzZXJOZXdzID0+IHtcbiAgICAgIGV4cGVjdCh0ZWFzZXJOZXdzKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHRlYXNlck5ld3MubGVuZ3RoKS50b0JlKDMpO1xuICAgICAgZXhwZWN0KHRlYXNlck5ld3NbMF0uZGF0ZSkudG9FcXVhbCgnRGVjZW1iZXIgMTcsIDIwMTknKTtcbiAgICAgIGV4cGVjdCh0ZWFzZXJOZXdzWzFdLmRhdGUpLnRvRXF1YWwoJ0FwcmlsIDEwLCAyMDE4Jyk7XG4gICAgICBleHBlY3QodGVhc2VyTmV3c1syXS5kYXRlKS50b0VxdWFsKCdBcHJpbCA5LCAyMDE4Jyk7XG4gICAgfSk7XG5cbiAgfSkpO1xufSk7XG4iXSwidmVyc2lvbiI6M30=