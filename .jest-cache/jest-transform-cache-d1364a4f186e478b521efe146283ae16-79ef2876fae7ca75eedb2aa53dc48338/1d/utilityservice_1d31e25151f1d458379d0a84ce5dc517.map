{"file":"/Users/gargam/Develop/hpo-web/src/app/shared/utility/utility.service.ts","mappings":"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","names":[],"sources":["/Users/gargam/Develop/hpo-web/src/app/shared/utility/utility.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from \"@angular/common/http\";\nimport { environment } from \"../../../environments/environment\";\nimport { map, shareReplay } from \"rxjs/operators\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UtilityService {\n\n  constructor(private http: HttpClient) { }\n\n\n  openExternalUrl(url: string) {\n    window.open(url, '_blank').focus();\n  }\n\n  downloadFile(url: string) {\n    const link = document.createElement('a');\n    link.setAttribute('target', '_blank');\n    link.setAttribute('href', url);\n    document.body.appendChild(link);\n    link.click();\n    link.remove();\n  }\n\n  getMostRecentReleaseHPO() {\n    return this.http.get(environment.HPO_GITHUB_REPO_URL + '/releases?per_page=1').pipe(\n      map((versions: []) => {\n        return versions.find(Boolean);\n      }),\n      map((version: any) => {\n        const version_date = version.tag_name.replace('v','')\n        if(version_date == '' || version_date === undefined){\n          return \"latest\"\n        }\n        return version_date;\n      }),\n      shareReplay(1)\n    );\n  }\n\n  getExternalTermIdUrlFromId(termId?: string) {\n    if(!termId){\n      return '';\n    }\n    const sourceParts = termId.split(':');\n    if (this.isTermIdExpected(termId, \"OMIM\")) {\n      return `https://omim.org/entry/${sourceParts[1]}`;\n    } else if (this.isTermIdExpected(termId, \"ORPHA\")) {\n      return `https://www.orpha.net/consor/cgi-bin/OC_Exp.php?Lng=EN&Expert=${sourceParts[1]}`\n    } else if (this.isTermIdExpected(termId, \"MONDO\")){\n      return `https://monarchinitiative.org/disease/${termId}`;\n    } else if(this.isTermIdExpected(termId, \"PMID\")){\n      return `https://www.ncbi.nlm.nih.gov/pubmed/${sourceParts[1]}`;\n    }\n  }\n\n  isTermIdExpected(diseaseId: string, expected: string) {\n    return diseaseId != \"\" && diseaseId != null && expected != \"\" && expected != null\n      ? diseaseId.toUpperCase().includes(expected) : false;\n  }\n\n  getDiseaseDatabaseName(diseaseId){\n    return diseaseId != \"\" && diseaseId != null ? diseaseId.split(':')[0] : '';\n  }\n}\n"],"version":3}